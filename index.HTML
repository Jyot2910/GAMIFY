<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GameZone üïπÔ∏è</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=Space+Mono:wght@400;700&family=Exo+2:wght@400;600;800;900&display=swap" rel="stylesheet">
<style>
:root {
  --bg:#07080f;--surface:#0e1018;--surface2:#161824;--border:rgba(255,255,255,.06);
  --ng:#00ff87;--nb:#00d4ff;--np:#ff2d78;--ny:#ffde00;--npu:#be52ff;--no:#ff6b35;--nc:#00ffcc;
  --text:#f0f0ff;--muted:#6b6d8a;--r:16px;
}
*{margin:0;padding:0;box-sizing:border-box;}
body{background:var(--bg);color:var(--text);font-family:'Exo 2',sans-serif;min-height:100vh;overflow-x:hidden;}
body::after{content:'';position:fixed;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.07) 2px,rgba(0,0,0,.07) 4px);pointer-events:none;z-index:9999;}
body::before{content:'';position:fixed;inset:0;background-image:linear-gradient(rgba(0,255,135,.025) 1px,transparent 1px),linear-gradient(90deg,rgba(0,255,135,.025) 1px,transparent 1px);background-size:40px 40px;pointer-events:none;z-index:0;}

/* HEADER */
header{position:relative;z-index:10;padding:20px 24px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border);background:rgba(7,8,15,.95);backdrop-filter:blur(10px);}
.logo-wrap{display:flex;align-items:center;gap:12px;}
.logo-icon{width:40px;height:40px;background:var(--ng);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1.3rem;box-shadow:0 0 20px rgba(0,255,135,.5);animation:ipulse 2s ease-in-out infinite;}
@keyframes ipulse{0%,100%{box-shadow:0 0 20px rgba(0,255,135,.5);}50%{box-shadow:0 0 35px rgba(0,255,135,.9);}}
.logo-text{font-family:'Syne',sans-serif;font-size:1.6rem;font-weight:800;letter-spacing:-1px;}
.logo-text span{color:var(--ng);}
.header-badge{font-family:'Space Mono',monospace;font-size:.65rem;color:var(--ng);border:1px solid rgba(0,255,135,.3);padding:5px 12px;border-radius:50px;background:rgba(0,255,135,.07);letter-spacing:1px;}

/* NAV */
nav{position:sticky;top:0;z-index:100;display:flex;gap:4px;padding:10px 16px;background:rgba(7,8,15,.97);backdrop-filter:blur(16px);border-bottom:1px solid var(--border);overflow-x:auto;scrollbar-width:none;}
nav::-webkit-scrollbar{display:none;}
.nb{flex-shrink:0;font-family:'Syne',sans-serif;font-weight:700;font-size:.78rem;letter-spacing:.3px;padding:8px 14px;border-radius:8px;border:1px solid var(--border);background:var(--surface);color:var(--muted);cursor:pointer;transition:all .2s;white-space:nowrap;}
.nb:hover{color:var(--text);border-color:rgba(255,255,255,.15);}
.nb.a-home    {background:rgba(255,255,255,.07);border-color:rgba(255,255,255,.2);color:var(--text);}
.nb.a-snake   {background:rgba(0,255,135,.12);border-color:var(--ng);color:var(--ng);}
.nb.a-ttt     {background:rgba(0,212,255,.12);border-color:var(--nb);color:var(--nb);}
.nb.a-memory  {background:rgba(255,222,0,.12);border-color:var(--ny);color:var(--ny);}
.nb.a-breakout{background:rgba(190,82,255,.12);border-color:var(--npu);color:var(--npu);}
.nb.a-mine    {background:rgba(255,45,120,.12);border-color:var(--np);color:var(--np);}
.nb.a-c4      {background:rgba(255,107,53,.12);border-color:var(--no);color:var(--no);}
.nb.a-2048    {background:rgba(0,255,204,.12);border-color:var(--nc);color:var(--nc);}
.nb.a-flappy  {background:rgba(255,222,0,.15);border-color:var(--ny);color:var(--ny);}
.nb.a-simon   {background:rgba(0,255,135,.12);border-color:var(--ng);color:var(--ng);}
.nb.a-pong    {background:rgba(0,212,255,.12);border-color:var(--nb);color:var(--nb);}
.nb.a-tetris  {background:rgba(190,82,255,.12);border-color:var(--npu);color:var(--npu);}
.nb.a-whack   {background:rgba(255,107,53,.12);border-color:var(--no);color:var(--no);}
.nb.a-sudoku  {background:rgba(0,255,204,.12);border-color:var(--nc);color:var(--nc);}
.nb.a-invaders{background:rgba(255,45,120,.12);border-color:var(--np);color:var(--np);}

/* SCREENS */
.screen{display:none;position:relative;z-index:5;padding:28px 20px 60px;}
.screen.active{display:block;animation:fadeUp .3s ease;}
@keyframes fadeUp{from{opacity:0;transform:translateY(14px);}to{opacity:1;transform:translateY(0);}}

/* HOME GRID */
.home-label{font-family:'Space Mono',monospace;font-size:.65rem;letter-spacing:3px;color:var(--muted);text-transform:uppercase;text-align:center;margin-bottom:24px;}
.game-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px;max-width:1200px;margin:0 auto;}
.gc{background:var(--surface);border:1px solid var(--border);border-radius:var(--r);padding:24px 20px;cursor:pointer;transition:all .25s cubic-bezier(.34,1.56,.64,1);position:relative;overflow:hidden;}
.gc::before{content:'';position:absolute;inset:0;background:radial-gradient(circle at 30% 30%,var(--gc,transparent) 0%,transparent 70%);opacity:0;transition:opacity .3s;}
.gc:hover{transform:translateY(-6px);border-color:var(--gb,rgba(255,255,255,.15));}
.gc:hover::before{opacity:.08;}
.gc.g-snake {--gc:var(--ng); --gb:var(--ng);}
.gc.g-ttt   {--gc:var(--nb); --gb:var(--nb);}
.gc.g-mem   {--gc:var(--ny); --gb:var(--ny);}
.gc.g-brk   {--gc:var(--npu);--gb:var(--npu);}
.gc.g-mine  {--gc:var(--np); --gb:var(--np);}
.gc.g-c4    {--gc:var(--no); --gb:var(--no);}
.gc.g-2048  {--gc:var(--nc); --gb:var(--nc);}
.gc.g-flap  {--gc:var(--ny); --gb:var(--ny);}
.gc.g-simon {--gc:var(--ng); --gb:var(--ng);}
.gc.g-pong  {--gc:var(--nb); --gb:var(--nb);}
.gc.g-tetr  {--gc:var(--npu);--gb:var(--npu);}
.gc.g-whack {--gc:var(--no); --gb:var(--no);}
.gc.g-sudo  {--gc:var(--nc); --gb:var(--nc);}
.gc.g-inv   {--gc:var(--np); --gb:var(--np);}
.gc-emoji{font-size:2.2rem;margin-bottom:12px;display:block;}
.gc-title{font-family:'Syne',sans-serif;font-weight:800;font-size:1.2rem;margin-bottom:5px;color:var(--gb,var(--text));}
.gc-desc{color:var(--muted);font-size:.82rem;line-height:1.55;margin-bottom:12px;}
.gc-tag{font-family:'Space Mono',monospace;font-size:.6rem;letter-spacing:1px;padding:3px 9px;border-radius:4px;border:1px solid rgba(255,255,255,.1);color:var(--muted);}

/* GAME WRAPPER */
.gw{max-width:680px;margin:0 auto;}
.gw-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px;flex-wrap:wrap;gap:10px;}
.gw-title{font-family:'Syne',sans-serif;font-weight:800;font-size:1.5rem;}
.scoreboard{display:flex;gap:8px;}
.sb{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:7px 14px;text-align:center;min-width:64px;}
.sb-label{font-family:'Space Mono',monospace;font-size:.55rem;letter-spacing:2px;color:var(--muted);text-transform:uppercase;}
.sb-val{font-family:'Syne',sans-serif;font-weight:800;font-size:1.2rem;}

/* BUTTONS */
.btn{font-family:'Syne',sans-serif;font-weight:700;font-size:.88rem;letter-spacing:.5px;padding:10px 22px;border-radius:8px;border:none;cursor:pointer;transition:all .18s;}
.btn:hover{transform:translateY(-2px);filter:brightness(1.1);}
.btn:active{transform:translateY(0);}
.btn-g{background:var(--ng);color:#001a0d;}
.btn-b{background:var(--nb);color:#001a24;}
.btn-y{background:var(--ny);color:#1a1500;}
.btn-p{background:var(--npu);color:#0e001a;}
.btn-r{background:var(--np);color:#1a0010;}
.btn-o{background:var(--no);color:#1a0900;}
.btn-c{background:var(--nc);color:#001a15;}
.btn-ghost{background:transparent;color:var(--muted);border:1px solid var(--border);}
.btn-ghost:hover{color:var(--text);border-color:rgba(255,255,255,.2);}

/* MODE SELECT */
.mode-select{display:flex;gap:10px;justify-content:center;margin-bottom:18px;flex-wrap:wrap;}
.mode-btn{font-family:'Syne',sans-serif;font-weight:700;font-size:.85rem;padding:10px 22px;border-radius:8px;border:1px solid var(--border);background:var(--surface);color:var(--muted);cursor:pointer;transition:all .2s;}
.mode-btn.active,.mode-btn:hover{color:var(--text);border-color:rgba(255,255,255,.25);background:var(--surface2);}

/* CANVAS */
.canvas-wrap{position:relative;background:var(--surface);border:1px solid var(--border);border-radius:var(--r);overflow:hidden;display:flex;justify-content:center;align-items:center;}
canvas{display:block;max-width:100%;}
.overlay{position:absolute;inset:0;background:rgba(7,8,15,.93);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:14px;z-index:20;backdrop-filter:blur(6px);}
.overlay h2{font-family:'Syne',sans-serif;font-weight:800;font-size:1.9rem;}
.overlay p{color:var(--muted);font-size:.88rem;text-align:center;max-width:280px;line-height:1.7;}
.hint-bar{font-family:'Space Mono',monospace;font-size:.65rem;letter-spacing:1px;color:var(--muted);text-align:center;margin-top:10px;}

/* DPAD */
.dpad{display:grid;grid-template-areas:". u ." "l . r" ". d .";grid-template-columns:repeat(3,50px);grid-template-rows:repeat(3,50px);gap:5px;justify-content:center;margin-top:18px;}
.dpad-btn{background:var(--surface2);border:1px solid var(--border);border-radius:10px;color:var(--ng);font-size:1rem;cursor:pointer;transition:all .15s;display:flex;align-items:center;justify-content:center;}
.dpad-btn:active{background:rgba(0,255,135,.15);border-color:var(--ng);transform:scale(.93);}

/* TTT */
.ttt-board{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;max-width:320px;margin:0 auto;}
.ttt-cell{background:var(--surface);border:1px solid var(--border);border-radius:12px;aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-family:'Syne',sans-serif;font-weight:800;font-size:2.2rem;cursor:pointer;transition:all .18s;user-select:none;}
.ttt-cell:hover:not(.taken){background:rgba(255,255,255,.05);border-color:rgba(255,255,255,.2);transform:scale(1.03);}
.ttt-cell.x-cell{color:var(--nb);border-color:rgba(0,212,255,.3);}
.ttt-cell.o-cell{color:var(--np);border-color:rgba(255,45,120,.3);}
.ttt-cell.win-cell{background:rgba(0,255,135,.1);border-color:var(--ng);animation:wb .4s ease;}
@keyframes wb{0%,100%{transform:scale(1);}50%{transform:scale(1.07);}}
#tttStatus{text-align:center;font-family:'Syne',sans-serif;font-weight:700;font-size:1rem;margin:14px 0;min-height:28px;}

/* MEMORY */
.mem-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;max-width:440px;margin:0 auto;}
.mc{aspect-ratio:1;cursor:pointer;perspective:700px;}
.mc-inner{width:100%;height:100%;position:relative;transform-style:preserve-3d;transition:transform .4s cubic-bezier(.4,0,.2,1);border-radius:12px;}
.mc.flipped .mc-inner,.mc.matched .mc-inner{transform:rotateY(180deg);}
.mc-front,.mc-back{position:absolute;inset:0;border-radius:12px;display:flex;align-items:center;justify-content:center;backface-visibility:hidden;-webkit-backface-visibility:hidden;border:1px solid var(--border);}
.mc-front{background:var(--surface2);color:rgba(255,255,255,.1);font-family:'Space Mono',monospace;font-weight:700;font-size:1.2rem;}
.mc-back{background:var(--surface);font-size:1.8rem;transform:rotateY(180deg);}
.mc.matched .mc-back{background:rgba(0,255,135,.1);border-color:rgba(0,255,135,.4);}
#memStatus{text-align:center;font-size:.85rem;color:var(--muted);font-family:'Space Mono',monospace;margin:12px 0;min-height:20px;}

/* MINESWEEPER */
.mine-diffs{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin-bottom:14px;}
.diff-btn{font-family:'Space Mono',monospace;font-size:.7rem;letter-spacing:1px;padding:7px 14px;border-radius:6px;background:var(--surface);border:1px solid var(--border);color:var(--muted);cursor:pointer;transition:all .18s;}
.diff-btn:hover,.diff-btn.active{background:rgba(255,45,120,.12);border-color:var(--np);color:var(--np);}
.mine-board-wrap{overflow-x:auto;display:flex;justify-content:center;}
.mine-board{display:inline-grid;gap:3px;background:var(--surface);padding:10px;border:1px solid var(--border);border-radius:var(--r);}
.mine-cell{width:32px;height:32px;background:var(--surface2);border:1px solid var(--border);border-radius:5px;display:flex;align-items:center;justify-content:center;font-family:'Syne',sans-serif;font-weight:800;font-size:.82rem;cursor:pointer;transition:all .12s;user-select:none;}
.mine-cell:hover:not(.revealed):not(.flagged){background:rgba(255,255,255,.08);border-color:rgba(255,255,255,.2);transform:scale(1.08);}
.mine-cell.revealed{background:rgba(255,255,255,.03);border-color:transparent;cursor:default;}
.mine-cell.flagged{background:rgba(255,45,120,.12);border-color:rgba(255,45,120,.4);}
.mine-cell.mine-hit{background:rgba(255,45,120,.3);border-color:var(--np);}
.mine-cell[data-n="1"]{color:var(--nb)}.mine-cell[data-n="2"]{color:var(--ng)}.mine-cell[data-n="3"]{color:var(--np)}.mine-cell[data-n="4"]{color:var(--npu)}.mine-cell[data-n="5"]{color:var(--no)}.mine-cell[data-n="6"]{color:var(--nc)}.mine-cell[data-n="7"]{color:var(--text)}.mine-cell[data-n="8"]{color:var(--muted);}
#mineStatus{text-align:center;font-family:'Syne',sans-serif;font-weight:700;font-size:1rem;margin:10px 0;min-height:24px;}

/* CONNECT FOUR */
.c4-board{background:var(--surface);border:1px solid var(--border);border-radius:var(--r);padding:12px;display:inline-grid;gap:6px;margin:0 auto;}
.c4-wrap{display:flex;justify-content:center;overflow-x:auto;}
.c4-col{display:flex;flex-direction:column;gap:6px;cursor:pointer;}
.c4-col:hover .c4-cell:first-child{background:rgba(255,255,255,.1);}
.c4-cell{width:48px;height:48px;border-radius:50%;background:var(--surface2);border:2px solid rgba(255,255,255,.06);transition:all .2s;}
.c4-cell.p1{background:var(--np);border-color:rgba(255,45,120,.5);box-shadow:0 0 12px rgba(255,45,120,.4);}
.c4-cell.p2{background:var(--ny);border-color:rgba(255,222,0,.5);box-shadow:0 0 12px rgba(255,222,0,.4);}
.c4-cell.win{animation:c4win .5s ease infinite alternate;}
@keyframes c4win{from{transform:scale(1);}to{transform:scale(1.12);}}
#c4Status{text-align:center;font-family:'Syne',sans-serif;font-weight:700;font-size:1rem;margin:14px 0;min-height:28px;}

/* 2048 */
.g2048-board{background:var(--surface);border:1px solid var(--border);border-radius:var(--r);padding:10px;display:inline-grid;grid-template-columns:repeat(4,80px);grid-template-rows:repeat(4,80px);gap:8px;}
.g2048-wrap{display:flex;justify-content:center;overflow-x:auto;}
.t2048{width:80px;height:80px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-family:'Syne',sans-serif;font-weight:800;font-size:1.4rem;transition:all .15s;animation:tpop .15s ease;}
@keyframes tpop{from{transform:scale(.8);opacity:.5;}to{transform:scale(1);opacity:1;}}
.t2048.e{background:var(--surface2);border:1px solid var(--border);color:transparent;}
.t2048.v2   {background:#1a2a1a;color:var(--ng);border:1px solid rgba(0,255,135,.3);}
.t2048.v4   {background:#1a2a20;color:#00ff87;border:1px solid rgba(0,255,135,.4);}
.t2048.v8   {background:#0a2a20;color:#00ffcc;border:1px solid rgba(0,255,204,.4);}
.t2048.v16  {background:#0a2030;color:var(--nb);border:1px solid rgba(0,212,255,.4);font-size:1.2rem;}
.t2048.v32  {background:#0a1a30;color:#4d96ff;border:1px solid rgba(77,150,255,.4);font-size:1.2rem;}
.t2048.v64  {background:#15103a;color:var(--npu);border:1px solid rgba(190,82,255,.4);font-size:1.1rem;}
.t2048.v128 {background:#1f0a3a;color:#d966ff;border:1px solid rgba(190,82,255,.5);font-size:1rem;}
.t2048.v256 {background:#2a0a30;color:var(--np);border:1px solid rgba(255,45,120,.5);font-size:.95rem;}
.t2048.v512 {background:#2a0818;color:#ff4d88;border:1px solid rgba(255,45,120,.6);font-size:.9rem;}
.t2048.v1024{background:#2a0808;color:var(--no);border:1px solid rgba(255,107,53,.5);font-size:.8rem;}
.t2048.v2048{background:#1a0800;color:var(--ny);border:2px solid var(--ny);box-shadow:0 0 20px rgba(255,222,0,.4);font-size:.8rem;}
#g2048status{text-align:center;font-family:'Space Mono',monospace;font-size:.8rem;color:var(--muted);margin:12px 0;min-height:20px;}

/* SIMON SAYS */
.simon-board{display:grid;grid-template-columns:1fr 1fr;gap:12px;max-width:360px;margin:0 auto 18px;}
.simon-btn{height:140px;border-radius:20px;border:3px solid transparent;cursor:pointer;transition:all .15s;position:relative;overflow:hidden;}
.simon-btn::after{content:'';position:absolute;inset:0;background:rgba(255,255,255,.18);opacity:0;transition:opacity .15s;}
.simon-btn.lit::after{opacity:1;}
.simon-btn.lit{transform:scale(1.04);filter:brightness(1.5);}
.simon-btn:disabled{cursor:not-allowed;opacity:.7;}
.simon-btn[data-c="0"]{background:rgba(0,255,135,.3);border-color:var(--ng);}
.simon-btn[data-c="1"]{background:rgba(255,45,120,.3);border-color:var(--np);}
.simon-btn[data-c="2"]{background:rgba(255,222,0,.3);border-color:var(--ny);}
.simon-btn[data-c="3"]{background:rgba(0,212,255,.3);border-color:var(--nb);}
#simonStatus{text-align:center;font-family:'Syne',sans-serif;font-weight:700;font-size:1rem;margin:12px 0;min-height:28px;}

/* WHACK-A-MOLE */
.mole-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;max-width:400px;margin:0 auto 18px;}
.mole-hole{aspect-ratio:1;background:var(--surface2);border:2px solid var(--border);border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:2.6rem;transition:all .15s;position:relative;overflow:hidden;user-select:none;}
.mole-hole:active{transform:scale(.93);}
.mole-hole.has-mole{background:rgba(255,107,53,.15);border-color:var(--no);animation:molePop .1s ease;}
@keyframes molePop{from{transform:scale(.7);}to{transform:scale(1);}}
.mole-hole.whacked{background:rgba(0,255,135,.2);border-color:var(--ng);animation:whackFlash .2s ease;}
@keyframes whackFlash{0%,100%{opacity:1;}50%{opacity:.4;}}
#whackStatus{text-align:center;font-family:'Syne',sans-serif;font-weight:700;font-size:1rem;margin:12px 0;min-height:28px;}
.whack-timer-bar{width:100%;height:6px;background:var(--surface2);border-radius:3px;overflow:hidden;margin-bottom:14px;}
.whack-timer-fill{height:100%;background:var(--no);border-radius:3px;transition:width .1s linear;}

/* SUDOKU */
.sudoku-wrap{display:flex;justify-content:center;overflow-x:auto;margin-bottom:14px;}
.sudoku-board{display:inline-grid;grid-template-columns:repeat(9,44px);grid-template-rows:repeat(9,44px);gap:2px;background:rgba(255,255,255,.08);padding:3px;border-radius:10px;border:2px solid rgba(255,255,255,.15);}
.sudoku-cell{width:44px;height:44px;background:var(--surface2);display:flex;align-items:center;justify-content:center;font-family:'Syne',sans-serif;font-weight:800;font-size:1.1rem;cursor:pointer;transition:all .15s;border-radius:4px;border:1px solid var(--border);}
.sudoku-cell.given{color:var(--nb);cursor:default;}
.sudoku-cell.selected{background:rgba(0,255,204,.15);border-color:var(--nc);}
.sudoku-cell.highlight{background:rgba(0,255,204,.06);}
.sudoku-cell.error{color:var(--np);background:rgba(255,45,120,.1);}
.sudoku-cell.correct{color:var(--ng);}
.sudoku-cell.box-right{border-right:2px solid rgba(255,255,255,.2);}
.sudoku-cell.box-bottom{border-bottom:2px solid rgba(255,255,255,.2);}
.sudoku-numpad{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin-bottom:14px;}
.sudoku-numpad button{width:44px;height:44px;background:var(--surface);border:1px solid var(--border);border-radius:8px;color:var(--text);font-family:'Syne',sans-serif;font-weight:800;font-size:1.1rem;cursor:pointer;transition:all .15s;}
.sudoku-numpad button:hover{background:rgba(0,255,204,.15);border-color:var(--nc);color:var(--nc);}
#sudokuStatus{text-align:center;font-family:'Syne',sans-serif;font-weight:700;font-size:1rem;margin:10px 0;min-height:24px;}

/* SPACE INVADERS */
#invadersStatus{text-align:center;font-family:'Syne',sans-serif;font-weight:700;font-size:1rem;margin:10px 0;min-height:24px;}

/* FOOTER */
footer{position:relative;z-index:5;border-top:1px solid var(--border);padding:18px;text-align:center;font-family:'Space Mono',monospace;font-size:.65rem;color:var(--muted);letter-spacing:1px;}

@media(max-width:520px){
  .mem-grid{gap:5px;} .mine-cell{width:26px;height:26px;font-size:.7rem;}
  .ttt-cell{font-size:1.6rem;} .gw-title{font-size:1.2rem;}
  canvas{width:100%;height:auto;} .c4-cell{width:38px;height:38px;}
  .g2048-board{grid-template-columns:repeat(4,68px);grid-template-rows:repeat(4,68px);}
  .t2048{width:68px;height:68px;font-size:1.1rem;}
  .simon-btn{height:110px;}
  .sudoku-board{grid-template-columns:repeat(9,34px);grid-template-rows:repeat(9,34px);}
  .sudoku-cell{width:34px;height:34px;font-size:.9rem;}
}
</style>
</head>
<body>
<header>
  <div class="logo-wrap">
    <div class="logo-icon">üïπÔ∏è</div>
    <div class="logo-text">Game<span>Zone</span></div>
  </div>
  <div class="header-badge">15 GAMES ¬∑ NO ADS</div>
</header>
<nav>
  <button class="nb a-home" data-sc="home"      onclick="showScreen('home',this)">üè† Home</button>
  <button class="nb" data-sc="snake"            onclick="showScreen('snake',this)">üêç Snake</button>
  <button class="nb" data-sc="ttt"              onclick="showScreen('ttt',this)">‚úñ Tic‚ÄëTac‚ÄëToe</button>
  <button class="nb" data-sc="memory"           onclick="showScreen('memory',this)">üÉè Memory</button>
  <button class="nb" data-sc="breakout"         onclick="showScreen('breakout',this)">üß± Breakout</button>
  <button class="nb" data-sc="minesweeper"      onclick="showScreen('minesweeper',this)">üí£ Minesweeper</button>
  <button class="nb" data-sc="c4"               onclick="showScreen('c4',this)">üî¥ Connect Four</button>
  <button class="nb" data-sc="g2048"            onclick="showScreen('g2048',this)">üî¢ 2048</button>
  <button class="nb" data-sc="flappy"           onclick="showScreen('flappy',this)">üê¶ Flappy Bird</button>
  <button class="nb" data-sc="simon"            onclick="showScreen('simon',this)">üéµ Simon Says</button>
  <button class="nb" data-sc="pong"             onclick="showScreen('pong',this)">üèì Pong</button>
  <button class="nb" data-sc="tetris"           onclick="showScreen('tetris',this)">üü¶ Tetris</button>
  <button class="nb" data-sc="whack"            onclick="showScreen('whack',this)">üî® Whack-a-Mole</button>
  <button class="nb" data-sc="sudoku"           onclick="showScreen('sudoku',this)">üî¢ Sudoku</button>
  <button class="nb" data-sc="invaders"         onclick="showScreen('invaders',this)">üëæ Space Invaders</button>
</nav>

<!-- HOME -->
<div id="home" class="screen active">
  <p class="home-label">Choose your game</p>
  <div class="game-grid">
    <div class="gc g-snake" onclick="showScreenByName('snake')"><span class="gc-emoji">üêç</span><div class="gc-title">Snake</div><div class="gc-desc">Eat food, grow longer. Dodge walls and your tail!</div><span class="gc-tag">ARROW KEYS</span></div>
    <div class="gc g-ttt"   onclick="showScreenByName('ttt')"><span class="gc-emoji">‚úñ</span><div class="gc-title">Tic‚ÄëTac‚ÄëToe</div><div class="gc-desc">Get 3 in a row. Play vs AI or a friend!</div><span class="gc-tag">VS AI / 2P</span></div>
    <div class="gc g-mem"   onclick="showScreenByName('memory')"><span class="gc-emoji">üÉè</span><div class="gc-title">Memory</div><div class="gc-desc">Match emoji pairs with fewest moves.</div><span class="gc-tag">BRAIN TEASER</span></div>
    <div class="gc g-brk"   onclick="showScreenByName('breakout')"><span class="gc-emoji">üß±</span><div class="gc-title">Breakout</div><div class="gc-desc">Smash all bricks with a bouncing ball.</div><span class="gc-tag">MOUSE / TOUCH</span></div>
    <div class="gc g-mine"  onclick="showScreenByName('minesweeper')"><span class="gc-emoji">üí£</span><div class="gc-title">Minesweeper</div><div class="gc-desc">Clear the field. Right-click to flag mines!</div><span class="gc-tag">PUZZLE</span></div>
    <div class="gc g-c4"    onclick="showScreenByName('c4')"><span class="gc-emoji">üî¥</span><div class="gc-title">Connect Four</div><div class="gc-desc">Drop pieces to connect 4 in a row!</div><span class="gc-tag">VS AI / 2P</span></div>
    <div class="gc g-2048"  onclick="showScreenByName('g2048')"><span class="gc-emoji">üî¢</span><div class="gc-title">2048</div><div class="gc-desc">Slide tiles to reach the 2048 tile!</div><span class="gc-tag">ARROW KEYS</span></div>
    <div class="gc g-flap"  onclick="showScreenByName('flappy')"><span class="gc-emoji">üê¶</span><div class="gc-title">Flappy Bird</div><div class="gc-desc">Tap to fly through the pipes!</div><span class="gc-tag">SPACE / TAP</span></div>
    <div class="gc g-simon" onclick="showScreenByName('simon')"><span class="gc-emoji">üéµ</span><div class="gc-title">Simon Says</div><div class="gc-desc">Repeat the color sequence before it's too late!</div><span class="gc-tag">MEMORY</span></div>
    <div class="gc g-pong"  onclick="showScreenByName('pong')"><span class="gc-emoji">üèì</span><div class="gc-title">Pong</div><div class="gc-desc">Classic paddle battle vs AI or a friend!</div><span class="gc-tag">VS AI / 2P</span></div>
    <div class="gc g-tetr"  onclick="showScreenByName('tetris')"><span class="gc-emoji">üü¶</span><div class="gc-title">Tetris</div><div class="gc-desc">Stack and clear rows before it fills up!</div><span class="gc-tag">ARROW KEYS</span></div>
    <div class="gc g-whack" onclick="showScreenByName('whack')"><span class="gc-emoji">üî®</span><div class="gc-title">Whack-a-Mole</div><div class="gc-desc">Smash those moles as fast as you can!</div><span class="gc-tag">CLICK / TAP</span></div>
    <div class="gc g-sudo"  onclick="showScreenByName('sudoku')"><span class="gc-emoji">üî¢</span><div class="gc-title">Sudoku</div><div class="gc-desc">Fill the grid ‚Äî every row, column, and box!</div><span class="gc-tag">PUZZLE</span></div>
    <div class="gc g-inv"   onclick="showScreenByName('invaders')"><span class="gc-emoji">üëæ</span><div class="gc-title">Space Invaders</div><div class="gc-desc">Shoot down the alien invasion. Don't let them land!</div><span class="gc-tag">ARROW + SPACE</span></div>
  </div>
</div>

<!-- SNAKE -->
<div id="snake" class="screen">
  <div class="gw">
    <div class="gw-header">
      <div class="gw-title" style="color:var(--ng)">üêç Snake</div>
      <div class="scoreboard">
        <div class="sb"><div class="sb-label">Score</div><div class="sb-val" id="snakeScore" style="color:var(--ng)">0</div></div>
        <div class="sb"><div class="sb-label">Best</div><div class="sb-val" id="snakeBest" style="color:var(--ny)">0</div></div>
      </div>
    </div>
    <div class="canvas-wrap">
      <canvas id="snakeCanvas" width="500" height="500"></canvas>
      <div class="overlay" id="snakeOverlay">
        <h2 style="color:var(--ng)">üêç Snake</h2>
        <p>Arrow keys or WASD to move. Eat food to grow!</p>
        <button class="btn btn-g" onclick="startSnake()">‚ñ∂ START</button>
      </div>
    </div>
    <p class="hint-bar">ARROW KEYS / WASD ¬∑ Avoid walls and yourself</p>
    <div style="margin-top:12px;text-align:center"><button class="btn btn-ghost" onclick="startSnake()">‚Ü∫ Restart</button></div>
    <div class="dpad">
      <button class="dpad-btn" style="grid-area:u" onclick="snakeDirInput(0,-1)">‚ñ≤</button>
      <button class="dpad-btn" style="grid-area:l" onclick="snakeDirInput(-1,0)">‚óÄ</button>
      <button class="dpad-btn" style="grid-area:r" onclick="snakeDirInput(1,0)">‚ñ∂</button>
      <button class="dpad-btn" style="grid-area:d" onclick="snakeDirInput(0,1)">‚ñº</button>
    </div>
  </div>
</div>

<!-- TTT -->
<div id="ttt" class="screen">
  <div class="gw">
    <div class="gw-header">
      <div class="gw-title" style="color:var(--nb)">‚úñ Tic‚ÄëTac‚ÄëToe</div>
      <div class="scoreboard">
        <div class="sb"><div class="sb-label" style="color:var(--nb)">X</div><div class="sb-val" id="tttScoreX" style="color:var(--nb)">0</div></div>
        <div class="sb"><div class="sb-label" style="color:var(--np)">O</div><div class="sb-val" id="tttScoreO" style="color:var(--np)">0</div></div>
        <div class="sb"><div class="sb-label">TIE</div><div class="sb-val" id="tttScoreTie" style="color:var(--muted)">0</div></div>
      </div>
    </div>
    <div class="mode-select">
      <button class="mode-btn active" id="tttMode2P" onclick="setTTTMode('2p')">üë• 2 Players</button>
      <button class="mode-btn" id="tttModeAI" onclick="setTTTMode('ai')">ü§ñ vs Computer</button>
    </div>
    <div id="tttStatus">Player <span style="color:var(--nb)">X</span>'s turn</div>
    <div class="ttt-board" id="tttBoard"></div>
    <div style="margin-top:20px;text-align:center"><button class="btn btn-b" onclick="resetTTT()">‚Ü∫ New Game</button></div>
  </div>
</div>

<!-- MEMORY -->
<div id="memory" class="screen">
  <div class="gw">
    <div class="gw-header">
      <div class="gw-title" style="color:var(--ny)">üÉè Memory</div>
      <div class="scoreboard">
        <div class="sb"><div class="sb-label">Moves</div><div class="sb-val" id="memMoves" style="color:var(--ny)">0</div></div>
        <div class="sb"><div class="sb-label">Pairs</div><div class="sb-val" id="memPairs" style="color:var(--ng)">0/8</div></div>
      </div>
    </div>
    <div id="memStatus">Match all pairs!</div>
    <div class="mem-grid" id="memBoard"></div>
    <div style="margin-top:20px;text-align:center"><button class="btn btn-y" onclick="initMemory()">‚Ü∫ Shuffle</button></div>
  </div>
</div>

<!-- BREAKOUT -->
<div id="breakout" class="screen">
  <div class="gw">
    <div class="gw-header">
      <div class="gw-title" style="color:var(--npu)">üß± Breakout</div>
      <div class="scoreboard">
        <div class="sb"><div class="sb-label">Score</div><div class="sb-val" id="brkScore" style="color:var(--npu)">0</div></div>
        <div class="sb"><div class="sb-label">Lives</div><div class="sb-val" id="brkLives" style="color:var(--np)">3</div></div>
      </div>
    </div>
    <div class="canvas-wrap">
      <canvas id="breakoutCanvas" width="500" height="400"></canvas>
      <div class="overlay" id="brkOverlay">
        <h2 style="color:var(--npu)">üß± Breakout</h2>
        <p>Move mouse or touch to control paddle. Break all bricks!</p>
        <button class="btn btn-p" onclick="startBreakout()">‚ñ∂ START</button>
      </div>
    </div>
    <p class="hint-bar">MOUSE / TOUCH ¬∑ Break every brick to win</p>
  </div>
</div>

<!-- MINESWEEPER -->
<div id="minesweeper" class="screen">
  <div class="gw">
    <div class="gw-header">
      <div class="gw-title" style="color:var(--np)">üí£ Minesweeper</div>
      <div class="scoreboard">
        <div class="sb"><div class="sb-label">Mines</div><div class="sb-val" id="mineCount" style="color:var(--np)">10</div></div>
        <div class="sb"><div class="sb-label">Time</div><div class="sb-val" id="mineTimer" style="color:var(--ny)">0</div></div>
      </div>
    </div>
    <div class="mine-diffs">
      <button class="diff-btn active" onclick="setMineDiff(9,9,10,this)">EASY</button>
      <button class="diff-btn" onclick="setMineDiff(16,16,40,this)">MEDIUM</button>
      <button class="diff-btn" onclick="setMineDiff(16,30,99,this)">HARD</button>
      <button class="btn btn-r" style="padding:7px 14px;font-size:.8rem" onclick="initMine()">‚Ü∫ New</button>
    </div>
    <div id="mineStatus"></div>
    <div class="mine-board-wrap"><div class="mine-board" id="mineBoard"></div></div>
    <p class="hint-bar" style="margin-top:10px">LEFT CLICK reveal ¬∑ RIGHT CLICK flag üö©</p>
  </div>
</div>

<!-- CONNECT FOUR -->
<div id="c4" class="screen">
  <div class="gw">
    <div class="gw-header">
      <div class="gw-title" style="color:var(--no)">üî¥ Connect Four</div>
      <div class="scoreboard">
        <div class="sb"><div class="sb-label" style="color:var(--np)">P1</div><div class="sb-val" id="c4Score1" style="color:var(--np)">0</div></div>
        <div class="sb"><div class="sb-label" style="color:var(--ny)">P2</div><div class="sb-val" id="c4Score2" style="color:var(--ny)">0</div></div>
      </div>
    </div>
    <div class="mode-select">
      <button class="mode-btn active" id="c4Mode2P" onclick="setC4Mode('2p')">üë• 2 Players</button>
      <button class="mode-btn" id="c4ModeAI" onclick="setC4Mode('ai')">ü§ñ vs Computer</button>
    </div>
    <div id="c4Status">üî¥ Player 1's turn</div>
    <div class="c4-wrap"><div class="c4-board" id="c4Board"></div></div>
    <div style="margin-top:16px;text-align:center"><button class="btn btn-o" onclick="initC4()">‚Ü∫ New Game</button></div>
    <p class="hint-bar">Click a column to drop your piece</p>
  </div>
</div>

<!-- 2048 -->
<div id="g2048" class="screen">
  <div class="gw">
    <div class="gw-header">
      <div class="gw-title" style="color:var(--nc)">üî¢ 2048</div>
      <div class="scoreboard">
        <div class="sb"><div class="sb-label">Score</div><div class="sb-val" id="g2048score" style="color:var(--nc)">0</div></div>
        <div class="sb"><div class="sb-label">Best</div><div class="sb-val" id="g2048best" style="color:var(--ny)">0</div></div>
      </div>
    </div>
    <div id="g2048status">Combine tiles to reach 2048!</div>
    <div class="g2048-wrap"><div class="g2048-board" id="g2048board"></div></div>
    <div style="margin-top:16px;text-align:center"><button class="btn btn-c" onclick="init2048()">‚Ü∫ New Game</button></div>
    <p class="hint-bar">ARROW KEYS or SWIPE to slide tiles</p>
  </div>
</div>

<!-- FLAPPY BIRD -->
<div id="flappy" class="screen">
  <div class="gw">
    <div class="gw-header">
      <div class="gw-title" style="color:var(--ny)">üê¶ Flappy Bird</div>
      <div class="scoreboard">
        <div class="sb"><div class="sb-label">Score</div><div class="sb-val" id="flappyScore" style="color:var(--ny)">0</div></div>
        <div class="sb"><div class="sb-label">Best</div><div class="sb-val" id="flappyBest" style="color:var(--ng)">0</div></div>
      </div>
    </div>
    <div class="canvas-wrap">
      <canvas id="flappyCanvas" width="400" height="550"></canvas>
      <div class="overlay" id="flappyOverlay">
        <h2 style="color:var(--ny)">üê¶ Flappy Bird</h2>
        <p>Press SPACE or tap to flap. Avoid the pipes!</p>
        <button class="btn btn-y" onclick="startFlappy()">‚ñ∂ START</button>
      </div>
    </div>
    <p class="hint-bar">SPACE or TAP to flap ¬∑ Don't hit pipes!</p>
  </div>
</div>

<!-- SIMON SAYS -->
<div id="simon" class="screen">
  <div class="gw">
    <div class="gw-header">
      <div class="gw-title" style="color:var(--ng)">üéµ Simon Says</div>
      <div class="scoreboard">
        <div class="sb"><div class="sb-label">Round</div><div class="sb-val" id="simonRound" style="color:var(--ng)">0</div></div>
        <div class="sb"><div class="sb-label">Best</div><div class="sb-val" id="simonBest" style="color:var(--ny)">0</div></div>
      </div>
    </div>
    <div id="simonStatus">Press Start to begin!</div>
    <div class="simon-board">
      <button class="simon-btn" data-c="0" id="simonBtn0" disabled onclick="simonPlayerInput(0)"></button>
      <button class="simon-btn" data-c="1" id="simonBtn1" disabled onclick="simonPlayerInput(1)"></button>
      <button class="simon-btn" data-c="2" id="simonBtn2" disabled onclick="simonPlayerInput(2)"></button>
      <button class="simon-btn" data-c="3" id="simonBtn3" disabled onclick="simonPlayerInput(3)"></button>
    </div>
    <div style="text-align:center"><button class="btn btn-g" onclick="startSimon()">‚ñ∂ Start</button></div>
    <p class="hint-bar" style="margin-top:10px">Watch the pattern ¬∑ Repeat it back!</p>
  </div>
</div>

<!-- PONG -->
<div id="pong" class="screen">
  <div class="gw">
    <div class="gw-header">
      <div class="gw-title" style="color:var(--nb)">üèì Pong</div>
      <div class="scoreboard">
        <div class="sb"><div class="sb-label">P1</div><div class="sb-val" id="pongScore1" style="color:var(--nb)">0</div></div>
        <div class="sb"><div class="sb-label">P2</div><div class="sb-val" id="pongScore2" style="color:var(--np)">0</div></div>
      </div>
    </div>
    <div class="mode-select">
      <button class="mode-btn" id="pongMode2P" onclick="setPongMode('2p')">üë• 2 Players</button>
      <button class="mode-btn active" id="pongModeAI" onclick="setPongMode('ai')">ü§ñ vs Computer</button>
    </div>
    <div class="canvas-wrap">
      <canvas id="pongCanvas" width="500" height="350"></canvas>
      <div class="overlay" id="pongOverlay">
        <h2 style="color:var(--nb)">üèì Pong</h2>
        <p id="pongInstr">P1: W/S keys ¬∑ P2: ‚Üë/‚Üì keys (2P mode)</p>
        <button class="btn btn-b" onclick="startPong()">‚ñ∂ START</button>
      </div>
    </div>
    <p class="hint-bar" id="pongHint">P1: W / S ¬∑ vs AI</p>
  </div>
</div>

<!-- TETRIS -->
<div id="tetris" class="screen">
  <div class="gw">
    <div class="gw-header">
      <div class="gw-title" style="color:var(--npu)">üü¶ Tetris</div>
      <div class="scoreboard">
        <div class="sb"><div class="sb-label">Score</div><div class="sb-val" id="tetScore" style="color:var(--npu)">0</div></div>
        <div class="sb"><div class="sb-label">Lines</div><div class="sb-val" id="tetLines" style="color:var(--ng)">0</div></div>
        <div class="sb"><div class="sb-label">Level</div><div class="sb-val" id="tetLevel" style="color:var(--ny)">1</div></div>
      </div>
    </div>
    <div style="display:flex;gap:16px;justify-content:center;align-items:flex-start;flex-wrap:wrap;">
      <div class="canvas-wrap" style="flex-shrink:0;">
        <canvas id="tetCanvas" width="240" height="480"></canvas>
        <div class="overlay" id="tetOverlay">
          <h2 style="color:var(--npu)">üü¶ Tetris</h2>
          <p>Arrow keys to move ¬∑ ‚Üë rotate ¬∑ ‚Üì fast drop</p>
          <button class="btn btn-p" onclick="startTetris()">‚ñ∂ START</button>
        </div>
      </div>
      <div style="min-width:100px;">
        <div style="font-family:'Space Mono',monospace;font-size:.65rem;letter-spacing:2px;color:var(--muted);margin-bottom:8px;">NEXT</div>
        <canvas id="tetNext" width="100" height="100" style="background:var(--surface);border:1px solid var(--border);border-radius:10px;"></canvas>
      </div>
    </div>
    <p class="hint-bar">‚Üê ‚Üí MOVE ¬∑ ‚Üë ROTATE ¬∑ ‚Üì FAST DROP ¬∑ SPACE HARD DROP</p>
    <div style="margin-top:12px;text-align:center"><button class="btn btn-ghost" onclick="startTetris()">‚Ü∫ Restart</button></div>
    <div class="dpad" style="margin-top:14px;">
      <button class="dpad-btn" style="grid-area:u;color:var(--npu)" onclick="tetAction('rotate')">‚Üª</button>
      <button class="dpad-btn" style="grid-area:l;color:var(--npu)" onclick="tetAction('left')">‚óÄ</button>
      <button class="dpad-btn" style="grid-area:r;color:var(--npu)" onclick="tetAction('right')">‚ñ∂</button>
      <button class="dpad-btn" style="grid-area:d;color:var(--npu)" onclick="tetAction('down')">‚ñº</button>
    </div>
  </div>
</div>

<!-- WHACK-A-MOLE -->
<div id="whack" class="screen">
  <div class="gw">
    <div class="gw-header">
      <div class="gw-title" style="color:var(--no)">üî® Whack-a-Mole</div>
      <div class="scoreboard">
        <div class="sb"><div class="sb-label">Score</div><div class="sb-val" id="whackScore" style="color:var(--no)">0</div></div>
        <div class="sb"><div class="sb-label">Best</div><div class="sb-val" id="whackBest" style="color:var(--ny)">0</div></div>
      </div>
    </div>
    <div class="whack-timer-bar"><div class="whack-timer-fill" id="whackTimerBar" style="width:100%"></div></div>
    <div id="whackStatus">Press Start to play!</div>
    <div class="mole-grid" id="moleGrid"></div>
    <div style="text-align:center"><button class="btn btn-o" onclick="startWhack()">‚ñ∂ Start</button></div>
    <p class="hint-bar" style="margin-top:10px">Click the moles before they hide! ¬∑ 30 seconds</p>
  </div>
</div>

<!-- SUDOKU -->
<div id="sudoku" class="screen">
  <div class="gw">
    <div class="gw-header">
      <div class="gw-title" style="color:var(--nc)">üî¢ Sudoku</div>
      <div class="scoreboard">
        <div class="sb"><div class="sb-label">Errors</div><div class="sb-val" id="sudokuErrors" style="color:var(--np)">0</div></div>
        <div class="sb"><div class="sb-label">Time</div><div class="sb-val" id="sudokuTime" style="color:var(--nc)">0:00</div></div>
      </div>
    </div>
    <div class="mode-select" style="margin-bottom:10px;">
      <button class="mode-btn active" id="sudokuEasy" onclick="setSudokuDiff('easy',this)">Easy</button>
      <button class="mode-btn" id="sudokuMed" onclick="setSudokuDiff('medium',this)">Medium</button>
      <button class="mode-btn" id="sudokuHard" onclick="setSudokuDiff('hard',this)">Hard</button>
    </div>
    <div id="sudokuStatus">Select a cell, then pick a number.</div>
    <div class="sudoku-wrap"><div class="sudoku-board" id="sudokuBoard"></div></div>
    <div class="sudoku-numpad" id="sudokuNumpad"></div>
    <div style="text-align:center;display:flex;gap:10px;justify-content:center;flex-wrap:wrap;">
      <button class="btn btn-c" onclick="initSudoku()">‚Ü∫ New Puzzle</button>
      <button class="btn btn-ghost" onclick="sudokuErase()">‚å´ Erase</button>
    </div>
    <p class="hint-bar" style="margin-top:10px">Click cell, then click number ¬∑ Each row, col & 3√ó3 box must have 1‚Äì9</p>
  </div>
</div>

<!-- SPACE INVADERS -->
<div id="invaders" class="screen">
  <div class="gw">
    <div class="gw-header">
      <div class="gw-title" style="color:var(--np)">üëæ Space Invaders</div>
      <div class="scoreboard">
        <div class="sb"><div class="sb-label">Score</div><div class="sb-val" id="invScore" style="color:var(--np)">0</div></div>
        <div class="sb"><div class="sb-label">Lives</div><div class="sb-val" id="invLives" style="color:var(--ny)">3</div></div>
        <div class="sb"><div class="sb-label">Wave</div><div class="sb-val" id="invWave" style="color:var(--nb)">1</div></div>
      </div>
    </div>
    <div class="canvas-wrap">
      <canvas id="invCanvas" width="500" height="500"></canvas>
      <div class="overlay" id="invOverlay">
        <h2 style="color:var(--np)">üëæ Space Invaders</h2>
        <p>Shoot down the alien horde before they reach you!</p>
        <button class="btn btn-r" onclick="startInvaders()">‚ñ∂ START</button>
      </div>
    </div>
    <p class="hint-bar">‚Üê ‚Üí MOVE ¬∑ SPACE SHOOT ¬∑ Destroy all aliens!</p>
    <div class="dpad" style="margin-top:14px;">
      <button class="dpad-btn" style="grid-area:u;color:var(--np)" onclick="invShoot()">üî´</button>
      <button class="dpad-btn" style="grid-area:l;color:var(--np)" onclick="invKeys.ArrowLeft=true;setTimeout(()=>invKeys.ArrowLeft=false,100)">‚óÄ</button>
      <button class="dpad-btn" style="grid-area:r;color:var(--np)" onclick="invKeys.ArrowRight=true;setTimeout(()=>invKeys.ArrowRight=false,100)">‚ñ∂</button>
      <button class="dpad-btn" style="grid-area:d;color:var(--np)" onclick="invShoot()">üí•</button>
    </div>
  </div>
</div>

<footer>GAMEZONE ¬∑ 15 CLASSIC GAMES ¬∑ BUILT WITH ‚ô•</footer>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê NAV ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const aclMap={home:'a-home',snake:'a-snake',ttt:'a-ttt',memory:'a-memory',breakout:'a-breakout',minesweeper:'a-mine',c4:'a-c4',g2048:'a-2048',flappy:'a-flappy',simon:'a-simon',pong:'a-pong',tetris:'a-tetris',whack:'a-whack',sudoku:'a-sudoku',invaders:'a-invaders'};
function showScreen(id,btn){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.querySelectorAll('.nb').forEach(b=>b.className='nb');
  document.getElementById(id).classList.add('active');
  if(btn){btn.classList.add('nb');btn.classList.add(aclMap[id]||'');}
}
function showScreenByName(id){
  const btn=document.querySelector(`.nb[data-sc="${id}"]`);
  showScreen(id,btn);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SNAKE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const sCanvas=document.getElementById('snakeCanvas'),sCtx=sCanvas.getContext('2d');
const CELL=25,COLS=20,ROWS=20;
let snake,dir,nextDir,food,sScore,sBest=0,snakeRunning=false,snakeLoop;
function startSnake(){
  document.getElementById('snakeOverlay').style.display='none';
  snake=[{x:10,y:10},{x:9,y:10},{x:8,y:10}];
  dir={x:1,y:0};nextDir={x:1,y:0};sScore=0;
  document.getElementById('snakeScore').textContent=0;
  placeFood();snakeRunning=true;clearInterval(snakeLoop);snakeLoop=setInterval(tickSnake,130);
}
function placeFood(){do{food={x:Math.floor(Math.random()*COLS),y:Math.floor(Math.random()*ROWS)};}while(snake.some(s=>s.x===food.x&&s.y===food.y));}
function snakeDirInput(dx,dy){
  if(dx===1&&dir.x===-1)return;if(dx===-1&&dir.x===1)return;
  if(dy===1&&dir.y===-1)return;if(dy===-1&&dir.y===1)return;
  nextDir={x:dx,y:dy};
}
document.addEventListener('keydown',e=>{
  const k={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0},w:{x:0,y:-1},s:{x:0,y:1},a:{x:-1,y:0},d:{x:1,y:0}};
  if(k[e.key]&&document.getElementById('snake').classList.contains('active')){e.preventDefault();snakeDirInput(k[e.key].x,k[e.key].y);}
});
function tickSnake(){
  dir={x:nextDir.x,y:nextDir.y};
  const h={x:snake[0].x+dir.x,y:snake[0].y+dir.y};
  if(h.x<0||h.x>=COLS||h.y<0||h.y>=ROWS||snake.some(s=>s.x===h.x&&s.y===h.y)){clearInterval(snakeLoop);snakeRunning=false;showSnakeOver();return;}
  snake.unshift(h);
  if(h.x===food.x&&h.y===food.y){sScore+=10;document.getElementById('snakeScore').textContent=sScore;if(sScore>sBest){sBest=sScore;document.getElementById('snakeBest').textContent=sBest;}placeFood();}
  else snake.pop();
  drawSnake();
}
function showSnakeOver(){const ov=document.getElementById('snakeOverlay');ov.style.display='flex';ov.innerHTML=`<h2 style="color:var(--np)">Game Over!</h2><p>Score: <strong style="color:var(--ng)">${sScore}</strong></p><button class="btn btn-g" onclick="startSnake()">‚ñ∂ Play Again</button>`;}
function drawSnake(){
  sCtx.fillStyle='#07080f';sCtx.fillRect(0,0,500,500);
  sCtx.strokeStyle='rgba(255,255,255,.025)';sCtx.lineWidth=1;
  for(let x=0;x<=COLS;x++){sCtx.beginPath();sCtx.moveTo(x*CELL,0);sCtx.lineTo(x*CELL,500);sCtx.stroke();}
  for(let y=0;y<=ROWS;y++){sCtx.beginPath();sCtx.moveTo(0,y*CELL);sCtx.lineTo(500,y*CELL);sCtx.stroke();}
  sCtx.fillStyle='#ff2d78';sCtx.shadowColor='#ff2d78';sCtx.shadowBlur=16;
  sCtx.beginPath();sCtx.arc(food.x*CELL+CELL/2,food.y*CELL+CELL/2,CELL/2-3,0,Math.PI*2);sCtx.fill();sCtx.shadowBlur=0;
  snake.forEach((seg,i)=>{
    const ratio=1-(i/snake.length)*.55;
    sCtx.fillStyle=i===0?'#00ff87':`rgba(0,${Math.floor(200*ratio+30)},${Math.floor(70*ratio)},1)`;
    sCtx.shadowColor=i===0?'rgba(0,255,135,.4)':'transparent';sCtx.shadowBlur=i===0?10:0;
    const pad=i===0?2:3;
    sCtx.beginPath();sCtx.roundRect(seg.x*CELL+pad,seg.y*CELL+pad,CELL-pad*2,CELL-pad*2,i===0?6:4);sCtx.fill();
    if(i===0){sCtx.fillStyle='#07080f';sCtx.shadowBlur=0;const ex=dir.x>0?CELL-8:dir.x<0?5:CELL/2-4;const ey=dir.y>0?CELL-8:dir.y<0?5:CELL/2-4;sCtx.beginPath();sCtx.arc(seg.x*CELL+ex,seg.y*CELL+ey,2,0,Math.PI*2);sCtx.fill();sCtx.beginPath();sCtx.arc(seg.x*CELL+(dir.y!==0?ex+5:ex),seg.y*CELL+(dir.x!==0?ey+5:ey),2,0,Math.PI*2);sCtx.fill();}
  });sCtx.shadowBlur=0;
}
sCtx.fillStyle='#07080f';sCtx.fillRect(0,0,500,500);

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TIC-TAC-TOE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let tttBoard,tttCurrent,tttScores={X:0,O:0,Tie:0},tttMode='2p',tttGameOver=false;
const WIN_LINES=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
function setTTTMode(m){tttMode=m;document.getElementById('tttMode2P').className='mode-btn'+(m==='2p'?' active':'');document.getElementById('tttModeAI').className='mode-btn'+(m==='ai'?' active':'');resetTTT();}
function initTTT(){
  tttBoard=Array(9).fill(null);tttCurrent='X';tttGameOver=false;
  document.getElementById('tttStatus').innerHTML=`Player <span style="color:var(--nb)">X</span>'s turn`;
  const board=document.getElementById('tttBoard');board.innerHTML='';
  for(let i=0;i<9;i++){const cell=document.createElement('div');cell.className='ttt-cell';cell.dataset.i=i;cell.addEventListener('click',()=>tttClick(i));board.appendChild(cell);}
}
function tttClick(i){
  if(tttBoard[i]||tttGameOver)return;
  tttBoard[i]=tttCurrent;
  const cells=document.querySelectorAll('.ttt-cell');
  cells[i].textContent=tttCurrent;cells[i].classList.add(tttCurrent==='X'?'x-cell':'o-cell','taken');
  const w=checkTTTWin();
  if(w){handleTTTEnd(w);return;}
  tttCurrent=tttCurrent==='X'?'O':'X';
  const color=tttCurrent==='X'?'var(--nb)':'var(--np)';
  document.getElementById('tttStatus').innerHTML=`Player <span style="color:${color}">${tttCurrent}</span>'s turn`;
  if(tttMode==='ai'&&tttCurrent==='O'&&!tttGameOver)setTimeout(tttAIMove,400);
}
function tttAIMove(){
  if(tttGameOver)return;
  let best=-Infinity,move=0;
  for(let i=0;i<9;i++){if(!tttBoard[i]){tttBoard[i]='O';const s=minimax(tttBoard,0,false);tttBoard[i]=null;if(s>best){best=s;move=i;}}}
  tttClick(move);
}
function minimax(b,depth,isMax){
  const w=checkTTTWinSilent(b);
  if(w==='O')return 10-depth;if(w==='X')return depth-10;if(b.every(c=>c))return 0;
  if(isMax){let best=-Infinity;for(let i=0;i<9;i++){if(!b[i]){b[i]='O';best=Math.max(best,minimax(b,depth+1,false));b[i]=null;}}return best;}
  else{let best=Infinity;for(let i=0;i<9;i++){if(!b[i]){b[i]='X';best=Math.min(best,minimax(b,depth+1,true));b[i]=null;}}return best;}
}
function checkTTTWinSilent(b){for(const[a,bp,c]of WIN_LINES){if(b[a]&&b[a]===b[bp]&&b[a]===b[c])return b[a];}if(b.every(c=>c))return'Tie';return null;}
function checkTTTWin(){
  const cells=document.querySelectorAll('.ttt-cell');
  for(const[a,b,c]of WIN_LINES){if(tttBoard[a]&&tttBoard[a]===tttBoard[b]&&tttBoard[a]===tttBoard[c]){[a,b,c].forEach(i=>cells[i].classList.add('win-cell'));return tttBoard[a];}}
  if(tttBoard.every(c=>c))return'Tie';return null;
}
function handleTTTEnd(w){
  tttGameOver=true;
  if(w==='Tie'){document.getElementById('tttStatus').innerHTML='ü§ù Tie!';tttScores.Tie++;document.getElementById('tttScoreTie').textContent=tttScores.Tie;}
  else{const color=w==='X'?'var(--nb)':'var(--np)';document.getElementById('tttStatus').innerHTML=`üéâ <span style="color:${color}">${w}</span> wins!`;w==='X'?tttScores.X++:tttScores.O++;document.getElementById('tttScoreX').textContent=tttScores.X;document.getElementById('tttScoreO').textContent=tttScores.O;}
}
function resetTTT(){initTTT();}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MEMORY ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const EMOJIS=['üê∂','üê±','ü¶ä','üêª','üêº','ü¶Å','üê∏','ü¶ã'];
let memFlipped,memMatched,memMoves,memLock;
function initMemory(){
  const pairs=[...EMOJIS,...EMOJIS].sort(()=>Math.random()-.5);
  memFlipped=[];memMatched=0;memMoves=0;memLock=false;
  document.getElementById('memMoves').textContent='0';document.getElementById('memPairs').textContent='0/8';document.getElementById('memStatus').textContent='Match all pairs!';
  const board=document.getElementById('memBoard');board.innerHTML='';
  pairs.forEach((emoji,i)=>{
    const card=document.createElement('div');card.className='mc';card.dataset.emoji=emoji;card.dataset.index=i;
    card.innerHTML=`<div class="mc-inner"><div class="mc-front">?</div><div class="mc-back">${emoji}</div></div>`;
    card.addEventListener('click',()=>flipMemCard(card));board.appendChild(card);
  });
}
function flipMemCard(card){
  if(memLock||card.classList.contains('flipped')||card.classList.contains('matched'))return;
  card.classList.add('flipped');memFlipped.push(card);
  if(memFlipped.length===2){
    memLock=true;memMoves++;document.getElementById('memMoves').textContent=memMoves;
    const[a,b]=memFlipped;
    if(a.dataset.emoji===b.dataset.emoji){setTimeout(()=>{a.classList.add('matched');b.classList.add('matched');memFlipped=[];memLock=false;memMatched++;document.getElementById('memPairs').textContent=`${memMatched}/8`;if(memMatched===8)document.getElementById('memStatus').textContent=`üéâ Done in ${memMoves} moves!`;},400);}
    else{setTimeout(()=>{a.classList.remove('flipped');b.classList.remove('flipped');memFlipped=[];memLock=false;},900);}
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BREAKOUT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const bCanvas=document.getElementById('breakoutCanvas'),bCtx=bCanvas.getContext('2d');
const BW=500,BH=400;
let bPaddle,bBall,bBricks,brkScore,brkLives,brkRunning=false,brkAF;
const BR=5,BC=10,BRICKW=44,BRICKH=18,BRICKP=4;
const BCOLORS=['#ff2d78','#ff6b35','#ffde00','#00ff87','#00d4ff'];
function startBreakout(){
  document.getElementById('brkOverlay').style.display='none';
  brkScore=0;brkLives=3;document.getElementById('brkScore').textContent=0;document.getElementById('brkLives').textContent=3;
  bPaddle={x:BW/2-40,y:BH-28,w:80,h:12};
  bBall={x:BW/2,y:BH-50,r:7,dx:3.5,dy:-3.5};
  bBricks=[];for(let r=0;r<BR;r++)for(let c=0;c<BC;c++)bBricks.push({x:c*(BRICKW+BRICKP)+10,y:r*(BRICKH+BRICKP)+45,alive:true,color:BCOLORS[r]});
  brkRunning=true;cancelAnimationFrame(brkAF);brkLoop();
}
bCanvas.addEventListener('mousemove',e=>{if(!brkRunning)return;const rect=bCanvas.getBoundingClientRect();bPaddle.x=Math.max(0,Math.min(BW-bPaddle.w,(e.clientX-rect.left)*(BW/rect.width)-bPaddle.w/2));});
bCanvas.addEventListener('touchmove',e=>{e.preventDefault();if(!brkRunning)return;const rect=bCanvas.getBoundingClientRect();bPaddle.x=Math.max(0,Math.min(BW-bPaddle.w,(e.touches[0].clientX-rect.left)*(BW/rect.width)-bPaddle.w/2));},{passive:false});
function brkLoop(){if(!brkRunning)return;brkUpdate();brkDraw();brkAF=requestAnimationFrame(brkLoop);}
function brkUpdate(){
  bBall.x+=bBall.dx;bBall.y+=bBall.dy;
  if(bBall.x-bBall.r<=0){bBall.x=bBall.r;bBall.dx=Math.abs(bBall.dx);}
  if(bBall.x+bBall.r>=BW){bBall.x=BW-bBall.r;bBall.dx=-Math.abs(bBall.dx);}
  if(bBall.y-bBall.r<=0){bBall.y=bBall.r;bBall.dy=Math.abs(bBall.dy);}
  if(bBall.y-bBall.r>BH){brkLives--;document.getElementById('brkLives').textContent=brkLives;if(brkLives<=0){brkRunning=false;cancelAnimationFrame(brkAF);showBrkOver('üíÄ Game Over!');return;}bBall={x:BW/2,y:BH-50,r:7,dx:3.5*(Math.random()<.5?1:-1),dy:-3.5};}
  if(bBall.y+bBall.r>=bPaddle.y&&bBall.y-bBall.r<=bPaddle.y+bPaddle.h&&bBall.x+bBall.r>=bPaddle.x&&bBall.x-bBall.r<=bPaddle.x+bPaddle.w&&bBall.dy>0){bBall.dy=-Math.abs(bBall.dy);const hit=(bBall.x-(bPaddle.x+bPaddle.w/2))/(bPaddle.w/2);bBall.dx=hit*5.5;const sp=Math.sqrt(bBall.dx*bBall.dx+bBall.dy*bBall.dy);if(sp>8){bBall.dx*=8/sp;bBall.dy*=8/sp;}}
  for(const b of bBricks){if(!b.alive)continue;if(bBall.x+bBall.r>b.x&&bBall.x-bBall.r<b.x+BRICKW&&bBall.y+bBall.r>b.y&&bBall.y-bBall.r<b.y+BRICKH){b.alive=false;bBall.dy*=-1;brkScore+=10;document.getElementById('brkScore').textContent=brkScore;break;}}
  if(bBricks.every(b=>!b.alive)){brkRunning=false;cancelAnimationFrame(brkAF);showBrkOver('üéâ You Win!');}
}
function showBrkOver(msg){const ov=document.getElementById('brkOverlay');ov.style.display='flex';ov.innerHTML=`<h2 style="color:var(--npu)">${msg}</h2><p>Score: <strong style="color:var(--ny)">${brkScore}</strong></p><button class="btn btn-p" onclick="startBreakout()">‚ñ∂ Play Again</button>`;}
function brkDraw(){
  bCtx.fillStyle='#07080f';bCtx.fillRect(0,0,BW,BH);
  bCtx.strokeStyle='rgba(255,255,255,.025)';bCtx.lineWidth=1;for(let x=0;x<BW;x+=25){bCtx.beginPath();bCtx.moveTo(x,0);bCtx.lineTo(x,BH);bCtx.stroke();}for(let y=0;y<BH;y+=25){bCtx.beginPath();bCtx.moveTo(0,y);bCtx.lineTo(BW,y);bCtx.stroke();}
  bBricks.forEach(b=>{if(!b.alive)return;bCtx.fillStyle=b.color;bCtx.shadowColor=b.color;bCtx.shadowBlur=8;bCtx.beginPath();bCtx.roundRect(b.x,b.y,BRICKW,BRICKH,4);bCtx.fill();bCtx.fillStyle='rgba(255,255,255,.15)';bCtx.shadowBlur=0;bCtx.fillRect(b.x+2,b.y+2,BRICKW-4,3);});bCtx.shadowBlur=0;
  bCtx.fillStyle='#be52ff';bCtx.shadowColor='#be52ff';bCtx.shadowBlur=18;bCtx.beginPath();bCtx.roundRect(bPaddle.x,bPaddle.y,bPaddle.w,bPaddle.h,6);bCtx.fill();bCtx.shadowBlur=0;
  bCtx.fillStyle='#fff';bCtx.shadowColor='#fff';bCtx.shadowBlur=14;bCtx.beginPath();bCtx.arc(bBall.x,bBall.y,bBall.r,0,Math.PI*2);bCtx.fill();bCtx.shadowBlur=0;
}
bCtx.fillStyle='#07080f';bCtx.fillRect(0,0,BW,BH);

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MINESWEEPER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let mGrid,mRows=9,mCols=9,mMines=10,mRevealed,mFlagged,mGameOver,mFirst,mTimerInt,mElapsed;
function setMineDiff(r,c,m,btn){mRows=r;mCols=c;mMines=m;document.querySelectorAll('.diff-btn').forEach(b=>b.classList.remove('active'));btn.classList.add('active');document.getElementById('mineCount').textContent=m;initMine();}
function initMine(){
  clearInterval(mTimerInt);mElapsed=0;document.getElementById('mineTimer').textContent='0';document.getElementById('mineStatus').textContent='';document.getElementById('mineCount').textContent=mMines;
  mGrid=Array.from({length:mRows},()=>Array(mCols).fill(0));mRevealed=Array.from({length:mRows},()=>Array(mCols).fill(false));mFlagged=Array.from({length:mRows},()=>Array(mCols).fill(false));
  mGameOver=false;mFirst=true;renderMineBoard();
}
function placeMines(sr,sc){let placed=0;while(placed<mMines){const r=Math.floor(Math.random()*mRows),c=Math.floor(Math.random()*mCols);if(mGrid[r][c]===-1)continue;if(Math.abs(r-sr)<=1&&Math.abs(c-sc)<=1)continue;mGrid[r][c]=-1;placed++;}for(let r=0;r<mRows;r++)for(let c=0;c<mCols;c++){if(mGrid[r][c]===-1)continue;let n=0;for(let dr=-1;dr<=1;dr++)for(let dc=-1;dc<=1;dc++){const nr=r+dr,nc=c+dc;if(nr>=0&&nr<mRows&&nc>=0&&nc<mCols&&mGrid[nr][nc]===-1)n++;}mGrid[r][c]=n;}}
function renderMineBoard(){const board=document.getElementById('mineBoard');board.style.gridTemplateColumns=`repeat(${mCols},32px)`;board.innerHTML='';for(let r=0;r<mRows;r++)for(let c=0;c<mCols;c++){const cell=document.createElement('div');cell.className='mine-cell';cell.dataset.r=r;cell.dataset.c=c;cell.addEventListener('click',()=>mineClick(r,c));cell.addEventListener('contextmenu',e=>{e.preventDefault();mineFlag(r,c);});board.appendChild(cell);}}
function mineClick(r,c){if(mGameOver||mRevealed[r][c]||mFlagged[r][c])return;if(mFirst){mFirst=false;placeMines(r,c);mTimerInt=setInterval(()=>{mElapsed++;document.getElementById('mineTimer').textContent=mElapsed;},1000);}if(mGrid[r][c]===-1){mGameOver=true;clearInterval(mTimerInt);revealAllMines(r,c);document.getElementById('mineStatus').innerHTML='<span style="color:var(--np)">üí• Boom!</span>';return;}mineReveal(r,c);checkMineWin();}
function mineFlag(r,c){if(mGameOver||mRevealed[r][c])return;mFlagged[r][c]=!mFlagged[r][c];const cell=getMineCell(r,c);if(mFlagged[r][c]){cell.classList.add('flagged');cell.textContent='üö©';}else{cell.classList.remove('flagged');cell.textContent='';}document.getElementById('mineCount').textContent=mMines-mFlagged.flat().filter(Boolean).length;}
function mineReveal(r,c){if(r<0||r>=mRows||c<0||c>=mCols||mRevealed[r][c]||mFlagged[r][c])return;mRevealed[r][c]=true;const cell=getMineCell(r,c);cell.classList.add('revealed');if(mGrid[r][c]>0){cell.textContent=mGrid[r][c];cell.dataset.n=mGrid[r][c];}else if(mGrid[r][c]===0){for(let dr=-1;dr<=1;dr++)for(let dc=-1;dc<=1;dc++)mineReveal(r+dr,c+dc);}}
function revealAllMines(hr,hc){for(let r=0;r<mRows;r++)for(let c=0;c<mCols;c++){if(mGrid[r][c]===-1){const cell=getMineCell(r,c);cell.textContent='üí£';cell.classList.add('revealed');if(r===hr&&c===hc)cell.classList.add('mine-hit');}}}
function checkMineWin(){let safe=0;for(let r=0;r<mRows;r++)for(let c=0;c<mCols;c++)if(mGrid[r][c]!==-1&&mRevealed[r][c])safe++;if(safe===mRows*mCols-mMines){mGameOver=true;clearInterval(mTimerInt);document.getElementById('mineStatus').innerHTML=`<span style="color:var(--ng)">üéâ Cleared in ${mElapsed}s!</span>`;}}
function getMineCell(r,c){return document.querySelector(`.mine-cell[data-r="${r}"][data-c="${c}"]`);}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CONNECT FOUR ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let c4Board,c4Current,c4Scores={1:0,2:0},c4Mode='2p',c4GameOver=false;
const C4R=6,C4C=7;
function setC4Mode(m){c4Mode=m;document.getElementById('c4Mode2P').className='mode-btn'+(m==='2p'?' active':'');document.getElementById('c4ModeAI').className='mode-btn'+(m==='ai'?' active':'');initC4();}
function initC4(){
  c4Board=Array.from({length:C4R},()=>Array(C4C).fill(0));c4Current=1;c4GameOver=false;
  document.getElementById('c4Status').innerHTML='üî¥ Player 1\'s turn';
  const board=document.getElementById('c4Board');board.innerHTML='';
  board.style.gridTemplateColumns=`repeat(${C4C},1fr)`;
  for(let c=0;c<C4C;c++){
    const col=document.createElement('div');col.className='c4-col';col.addEventListener('click',()=>c4Drop(c));
    for(let r=0;r<C4R;r++){const cell=document.createElement('div');cell.className='c4-cell';cell.dataset.r=r;cell.dataset.c=c;col.appendChild(cell);}
    board.appendChild(col);
  }
}
function c4Drop(col){
  if(c4GameOver)return;
  let row=-1;for(let r=C4R-1;r>=0;r--){if(!c4Board[r][col]){row=r;break;}}
  if(row===-1)return;
  c4Board[row][col]=c4Current;
  const cell=document.querySelector(`.c4-cell[data-r="${row}"][data-c="${col}"]`);
  cell.classList.add('p'+c4Current);cell.style.animation='c4drop .2s ease';
  const winner=checkC4Win(row,col);
  if(winner){c4GameOver=true;c4Scores[c4Current]++;document.getElementById('c4Score'+c4Current).textContent=c4Scores[c4Current];const color=c4Current===1?'var(--np)':'var(--ny)';document.getElementById('c4Status').innerHTML=`üéâ <span style="color:${color}">Player ${c4Current}</span> wins!`;return;}
  if(c4Board[0].every((_,c)=>c4Board[0][c]!==0)){document.getElementById('c4Status').innerHTML='ü§ù Draw!';c4GameOver=true;return;}
  c4Current=c4Current===1?2:1;
  const col2=c4Current===1?'var(--np)':'var(--ny)';document.getElementById('c4Status').innerHTML=`<span style="color:${col2}">Player ${c4Current}</span>'s turn`;
  if(c4Mode==='ai'&&c4Current===2&&!c4GameOver)setTimeout(c4AIMove,400);
}
function c4AIMove(){
  for(let c=0;c<C4C;c++){let r=-1;for(let row=C4R-1;row>=0;row--){if(!c4Board[row][c]){r=row;break;}}if(r===-1)continue;c4Board[r][c]=2;if(checkC4WinSilent(r,c,2)){c4Board[r][c]=0;c4Drop(c);return;}c4Board[r][c]=0;}
  for(let c=0;c<C4C;c++){let r=-1;for(let row=C4R-1;row>=0;row--){if(!c4Board[row][c]){r=row;break;}}if(r===-1)continue;c4Board[r][c]=1;if(checkC4WinSilent(r,c,1)){c4Board[r][c]=0;c4Drop(c);return;}c4Board[r][c]=0;}
  const preferred=[3,2,4,1,5,0,6];for(const c of preferred){if(c4Board[0][c]===0){c4Drop(c);return;}}
}
function checkC4Win(row,col){if(checkC4WinSilent(row,col,c4Current)){highlightC4Win(row,col,c4Current);return true;}return false;}
function checkC4WinSilent(r,c,p){
  const dirs=[[0,1],[1,0],[1,1],[1,-1]];
  for(const[dr,dc]of dirs){let count=1;for(let i=1;i<4;i++){const nr=r+dr*i,nc=c+dc*i;if(nr>=0&&nr<C4R&&nc>=0&&nc<C4C&&c4Board[nr][nc]===p)count++;else break;}for(let i=1;i<4;i++){const nr=r-dr*i,nc=c-dc*i;if(nr>=0&&nr<C4R&&nc>=0&&nc<C4C&&c4Board[nr][nc]===p)count++;else break;}if(count>=4)return true;}return false;
}
function highlightC4Win(r,c,p){
  const dirs=[[0,1],[1,0],[1,1],[1,-1]];
  for(const[dr,dc]of dirs){let cells=[[r,c]];for(let i=1;i<4;i++){const nr=r+dr*i,nc=c+dc*i;if(nr>=0&&nr<C4R&&nc>=0&&nc<C4C&&c4Board[nr][nc]===p)cells.push([nr,nc]);else break;}for(let i=1;i<4;i++){const nr=r-dr*i,nc=c-dc*i;if(nr>=0&&nr<C4R&&nc>=0&&nc<C4C&&c4Board[nr][nc]===p)cells.push([nr,nc]);else break;}if(cells.length>=4){cells.forEach(([rr,cc])=>document.querySelector(`.c4-cell[data-r="${rr}"][data-c="${cc}"]`)?.classList.add('win'));return;}}
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 2048 ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let g2048,g2score,g2best=0,g2over;
function init2048(){
  g2048=Array.from({length:4},()=>Array(4).fill(0));g2score=0;g2over=false;
  document.getElementById('g2048score').textContent='0';document.getElementById('g2048status').textContent='Combine tiles to reach 2048!';
  addRandom2048();addRandom2048();render2048();
}
function addRandom2048(){const empty=[];for(let r=0;r<4;r++)for(let c=0;c<4;c++)if(!g2048[r][c])empty.push([r,c]);if(!empty.length)return;const[r,c]=empty[Math.floor(Math.random()*empty.length)];g2048[r][c]=Math.random()<.9?2:4;}
function render2048(){
  const board=document.getElementById('g2048board');board.innerHTML='';
  for(let r=0;r<4;r++)for(let c=0;c<4;c++){const t=document.createElement('div');const v=g2048[r][c];t.className='t2048'+(v?` v${v}`:' e');if(v)t.textContent=v;board.appendChild(t);}
}
function move2048(dir){
  if(g2over)return;
  const old=g2048.map(r=>[...r]);
  if(dir==='left')slide2048Left();else if(dir==='right'){flip2048H();slide2048Left();flip2048H();}
  else if(dir==='up'){transpose2048();slide2048Left();transpose2048();}
  else if(dir==='down'){transpose2048();flip2048H();slide2048Left();flip2048H();transpose2048();}
  const changed=old.some((r,i)=>r.some((v,j)=>v!==g2048[i][j]));
  if(changed){addRandom2048();render2048();document.getElementById('g2048score').textContent=g2score;if(g2score>g2best){g2best=g2score;document.getElementById('g2048best').textContent=g2best;}if(g2048.some(r=>r.includes(2048)))document.getElementById('g2048status').textContent='üéâ You reached 2048!';else if(!canMove2048()){document.getElementById('g2048status').textContent='üò¢ No moves left!';g2over=true;}}
}
function slide2048Left(){for(let r=0;r<4;r++){let row=g2048[r].filter(v=>v);for(let i=0;i<row.length-1;i++){if(row[i]===row[i+1]){row[i]*=2;g2score+=row[i];row[i+1]=0;}}row=row.filter(v=>v);while(row.length<4)row.push(0);g2048[r]=row;}}
function transpose2048(){const t=Array.from({length:4},()=>Array(4).fill(0));for(let r=0;r<4;r++)for(let c=0;c<4;c++)t[c][r]=g2048[r][c];g2048=t;}
function flip2048H(){g2048=g2048.map(r=>[...r].reverse());}
function canMove2048(){for(let r=0;r<4;r++)for(let c=0;c<4;c++){if(!g2048[r][c])return true;if(c<3&&g2048[r][c]===g2048[r][c+1])return true;if(r<3&&g2048[r][c]===g2048[r+1][c])return true;}return false;}
document.addEventListener('keydown',e=>{
  if(!document.getElementById('g2048').classList.contains('active'))return;
  const m={ArrowLeft:'left',ArrowRight:'right',ArrowUp:'up',ArrowDown:'down'};
  if(m[e.key]){e.preventDefault();move2048(m[e.key]);}
});
setTimeout(()=>{
  const g2b=document.getElementById('g2048board');
  if(g2b){let sx,sy;g2b.addEventListener('touchstart',e=>{sx=e.touches[0].clientX;sy=e.touches[0].clientY;},{passive:true});g2b.addEventListener('touchend',e=>{const dx=e.changedTouches[0].clientX-sx,dy=e.changedTouches[0].clientY-sy;if(Math.abs(dx)>Math.abs(dy))move2048(dx>0?'right':'left');else move2048(dy>0?'down':'up');});}
},100);

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê FLAPPY BIRD (SLOWED) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const fCanvas=document.getElementById('flappyCanvas'),fCtx=fCanvas.getContext('2d');
const FW=400,FH=550;
let fBird,fPipes,fFlappyScore,fFlappyBest=0,fRunning=false,fAF,fFrame=0;
const PIPE_SPEED=1.6; // Slowed from 2.4
const F_GRAVITY=0.28; // Slowed from 0.38
const F_FLAP=-6.0;    // Gentler flap from -7.5
function startFlappy(){
  document.getElementById('flappyOverlay').style.display='none';
  fBird={x:80,y:FH/2,vy:0,r:14};fPipes=[];fFlappyScore=0;fFrame=0;
  document.getElementById('flappyScore').textContent=0;fRunning=true;cancelAnimationFrame(fAF);fFlappyLoop();
}
function fFlap(){if(!fRunning)return;fBird.vy=F_FLAP;}
fCanvas.addEventListener('click',fFlap);
fCanvas.addEventListener('touchstart',e=>{e.preventDefault();fFlap();},{passive:false});
document.addEventListener('keydown',e=>{if(e.code==='Space'&&document.getElementById('flappy').classList.contains('active')){e.preventDefault();fFlap();}});
function fFlappyLoop(){if(!fRunning)return;fFlappyUpdate();fFlappyDraw();fAF=requestAnimationFrame(fFlappyLoop);}
const GAP=140; // Slightly wider gap for easier play
function fFlappyUpdate(){
  fFrame++;fBird.vy+=F_GRAVITY;fBird.y+=fBird.vy;
  if(fBird.y+fBird.r>=FH||fBird.y-fBird.r<=0){fRunning=false;cancelAnimationFrame(fAF);showFlappyOver();return;}
  if(fFrame%100===0){const top=60+Math.random()*(FH-GAP-120);fPipes.push({x:FW,top,bot:top+GAP,scored:false});}
  fPipes=fPipes.filter(p=>p.x>-60);
  for(const p of fPipes){
    p.x-=PIPE_SPEED;
    if(!p.scored&&p.x+30<fBird.x){p.scored=true;fFlappyScore++;document.getElementById('flappyScore').textContent=fFlappyScore;if(fFlappyScore>fFlappyBest){fFlappyBest=fFlappyScore;document.getElementById('flappyBest').textContent=fFlappyBest;}}
    if(fBird.x+fBird.r>p.x&&fBird.x-fBird.r<p.x+52&&(fBird.y-fBird.r<p.top||fBird.y+fBird.r>p.bot)){fRunning=false;cancelAnimationFrame(fAF);showFlappyOver();return;}
  }
}
function showFlappyOver(){const ov=document.getElementById('flappyOverlay');ov.style.display='flex';ov.innerHTML=`<h2 style="color:var(--np)">Game Over!</h2><p>Score: <strong style="color:var(--ny)">${fFlappyScore}</strong> ¬∑ Best: <strong style="color:var(--ng)">${fFlappyBest}</strong></p><button class="btn btn-y" onclick="startFlappy()">‚ñ∂ Play Again</button>`;}
function fFlappyDraw(){
  const sky=fCtx.createLinearGradient(0,0,0,FH);sky.addColorStop(0,'#0a0f20');sky.addColorStop(1,'#0d1830');fCtx.fillStyle=sky;fCtx.fillRect(0,0,FW,FH);
  fCtx.fillStyle='rgba(255,255,255,.6)';for(let i=0;i<30;i++){fCtx.beginPath();fCtx.arc((i*137)%FW,(i*71)%200,1,0,Math.PI*2);fCtx.fill();}
  fCtx.fillStyle='#0e1a0e';fCtx.fillRect(0,FH-40,FW,40);fCtx.fillStyle='#00ff87';fCtx.fillRect(0,FH-40,FW,4);
  fPipes.forEach(p=>{
    fCtx.fillStyle='#1a3d1a';fCtx.strokeStyle='#00ff87';fCtx.lineWidth=2;
    fCtx.beginPath();fCtx.roundRect(p.x,0,52,p.top,4);fCtx.fill();fCtx.stroke();
    fCtx.beginPath();fCtx.roundRect(p.x-4,p.top-18,60,20,4);fCtx.fill();fCtx.stroke();
    fCtx.beginPath();fCtx.roundRect(p.x,p.bot,52,FH-p.bot,4);fCtx.fill();fCtx.stroke();
    fCtx.beginPath();fCtx.roundRect(p.x-4,p.bot,60,20,4);fCtx.fill();fCtx.stroke();
  });
  const wing=Math.sin(fFrame*0.3)*0.4;
  fCtx.save();fCtx.translate(fBird.x,fBird.y);fCtx.rotate(Math.max(-0.5,Math.min(0.5,fBird.vy*0.06)));
  fCtx.fillStyle='#ffde00';fCtx.shadowColor='#ffde00';fCtx.shadowBlur=12;
  fCtx.beginPath();fCtx.arc(0,0,fBird.r,0,Math.PI*2);fCtx.fill();
  fCtx.fillStyle='#ff8c00';fCtx.shadowBlur=0;
  fCtx.beginPath();fCtx.arc(0,wing*8,fBird.r*.7,0,Math.PI*2);fCtx.fill();
  fCtx.fillStyle='#fff';fCtx.beginPath();fCtx.arc(5,-4,4,0,Math.PI*2);fCtx.fill();
  fCtx.fillStyle='#333';fCtx.beginPath();fCtx.arc(6,-4,2,0,Math.PI*2);fCtx.fill();
  fCtx.restore();fCtx.shadowBlur=0;
  fCtx.fillStyle='rgba(255,255,255,.8)';fCtx.font='bold 28px Syne,sans-serif';fCtx.textAlign='center';fCtx.fillText(fFlappyScore,FW/2,44);
}
fCtx.fillStyle='#07080f';fCtx.fillRect(0,0,FW,FH);

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SIMON SAYS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let simonSeq=[],simonPlayerSeq,simonRound,simonBest=0,simonPlaying=false;
const SIMON_COLORS=['#00ff87','#ff2d78','#ffde00','#00d4ff'];
function startSimon(){
  simonSeq=[];simonRound=0;simonBest=Math.max(simonBest,0);
  document.getElementById('simonStatus').textContent='Get ready...';
  simonNextRound();
}
function simonNextRound(){
  simonSeq.push(Math.floor(Math.random()*4));simonRound++;
  document.getElementById('simonRound').textContent=simonRound;
  simonPlayerSeq=[];simonPlaying=false;
  disableSimonBtns(true);
  document.getElementById('simonStatus').textContent='Watch the sequence...';
  simonPlaySeq(0);
}
function simonPlaySeq(i){
  if(i>=simonSeq.length){setTimeout(()=>{disableSimonBtns(false);simonPlaying=true;document.getElementById('simonStatus').textContent='Your turn! Repeat the sequence.';},400);return;}
  setTimeout(()=>{simonLightBtn(simonSeq[i],true);setTimeout(()=>{simonLightBtn(simonSeq[i],false);simonPlaySeq(i+1);},500);},600);
}
function simonLightBtn(c,on){const btn=document.getElementById('simonBtn'+c);if(on)btn.classList.add('lit');else btn.classList.remove('lit');}
function disableSimonBtns(d){for(let i=0;i<4;i++)document.getElementById('simonBtn'+i).disabled=d;}
function simonPlayerInput(c){
  if(!simonPlaying)return;
  simonLightBtn(c,true);setTimeout(()=>simonLightBtn(c,false),200);
  simonPlayerSeq.push(c);
  const idx=simonPlayerSeq.length-1;
  if(simonPlayerSeq[idx]!==simonSeq[idx]){
    simonPlaying=false;disableSimonBtns(true);
    if(simonRound>simonBest){simonBest=simonRound;document.getElementById('simonBest').textContent=simonBest;}
    document.getElementById('simonRound').textContent=0;
    document.getElementById('simonStatus').innerHTML=`‚ùå Wrong! You reached round <strong>${simonRound}</strong>`;
    return;
  }
  if(simonPlayerSeq.length===simonSeq.length){
    simonPlaying=false;disableSimonBtns(true);
    document.getElementById('simonStatus').textContent='‚úÖ Correct! Get ready for next round...';
    setTimeout(simonNextRound,1000);
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PONG ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const pCanvas=document.getElementById('pongCanvas'),pCtx=pCanvas.getContext('2d');
const PW=500,PH=350;
let p1,p2,pBall,pScore1,pScore2,pRunning=false,pAF,pMode='ai';
const PHEIGHT=70,PWIDTH=12;
function setPongMode(m){pMode=m;document.getElementById('pongMode2P').className='mode-btn'+(m==='2p'?' active':'');document.getElementById('pongModeAI').className='mode-btn'+(m==='ai'?' active':'');document.getElementById('pongHint').textContent=m==='2p'?'P1: W/S ¬∑ P2: ‚Üë/‚Üì':'P1: W/S ¬∑ AI controls right paddle';document.getElementById('pongInstr').textContent=m==='2p'?'P1: W/S ¬∑ P2: ‚Üë/‚Üì arrows':'P1: W/S keys ¬∑ AI controls right';}
function startPong(){
  document.getElementById('pongOverlay').style.display='none';
  pScore1=0;pScore2=0;document.getElementById('pongScore1').textContent=0;document.getElementById('pongScore2').textContent=0;
  p1={x:12,y:PH/2-PHEIGHT/2,w:PWIDTH,h:PHEIGHT,vy:0};
  p2={x:PW-12-PWIDTH,y:PH/2-PHEIGHT/2,w:PWIDTH,h:PHEIGHT,vy:0};
  pBall={x:PW/2,y:PH/2,r:7,dx:3*(Math.random()<.5?1:-1),dy:2*(Math.random()<.5?1:-1)};
  pRunning=true;cancelAnimationFrame(pAF);pLoop();
}
const pKeys={};
document.addEventListener('keydown',e=>{pKeys[e.key]=true;if(['w','s','ArrowUp','ArrowDown'].includes(e.key)&&document.getElementById('pong').classList.contains('active'))e.preventDefault();});
document.addEventListener('keyup',e=>{pKeys[e.key]=false;});
function pLoop(){if(!pRunning)return;pUpdate();pDraw();pAF=requestAnimationFrame(pLoop);}
function pUpdate(){
  const speed=5;
  if(pKeys['w'])p1.y=Math.max(0,p1.y-speed);if(pKeys['s'])p1.y=Math.min(PH-p1.h,p1.y+speed);
  if(pMode==='2p'){if(pKeys['ArrowUp'])p2.y=Math.max(0,p2.y-speed);if(pKeys['ArrowDown'])p2.y=Math.min(PH-p2.h,p2.y+speed);}
  else{const mid=p2.y+p2.h/2;const diff=pBall.y-mid;p2.y=Math.max(0,Math.min(PH-p2.h,p2.y+Math.sign(diff)*Math.min(Math.abs(diff),3.8)));}
  pBall.x+=pBall.dx;pBall.y+=pBall.dy;
  if(pBall.y-pBall.r<=0){pBall.y=pBall.r;pBall.dy=Math.abs(pBall.dy);}
  if(pBall.y+pBall.r>=PH){pBall.y=PH-pBall.r;pBall.dy=-Math.abs(pBall.dy);}
  if(pBall.dx<0&&pBall.x-pBall.r<=p1.x+p1.w&&pBall.x+pBall.r>=p1.x&&pBall.y+pBall.r>=p1.y&&pBall.y-pBall.r<=p1.y+p1.h){pBall.dx=Math.abs(pBall.dx)*1.05;const hit=(pBall.y-(p1.y+p1.h/2))/(p1.h/2);pBall.dy=hit*5;pBall.dx=Math.min(pBall.dx,10);}
  if(pBall.dx>0&&pBall.x+pBall.r>=p2.x&&pBall.x-pBall.r<=p2.x+p2.w&&pBall.y+pBall.r>=p2.y&&pBall.y-pBall.r<=p2.y+p2.h){pBall.dx=-Math.abs(pBall.dx)*1.05;const hit=(pBall.y-(p2.y+p2.h/2))/(p2.h/2);pBall.dy=hit*5;pBall.dx=Math.max(pBall.dx,-10);}
  if(pBall.x-pBall.r<=0){pScore2++;document.getElementById('pongScore2').textContent=pScore2;resetPBall(-1);}
  if(pBall.x+pBall.r>=PW){pScore1++;document.getElementById('pongScore1').textContent=pScore1;resetPBall(1);}
}
function resetPBall(dir){pBall={x:PW/2,y:PH/2,r:7,dx:3*dir,dy:2*(Math.random()<.5?1:-1)};}
function pDraw(){
  pCtx.fillStyle='#07080f';pCtx.fillRect(0,0,PW,PH);
  pCtx.strokeStyle='rgba(255,255,255,.06)';pCtx.lineWidth=2;pCtx.setLineDash([8,8]);pCtx.beginPath();pCtx.moveTo(PW/2,0);pCtx.lineTo(PW/2,PH);pCtx.stroke();pCtx.setLineDash([]);
  pCtx.fillStyle='var(--nb)';pCtx.shadowColor='var(--nb)';pCtx.shadowBlur=14;pCtx.beginPath();pCtx.roundRect(p1.x,p1.y,p1.w,p1.h,4);pCtx.fill();
  pCtx.fillStyle='var(--np)';pCtx.shadowColor='var(--np)';pCtx.beginPath();pCtx.roundRect(p2.x,p2.y,p2.w,p2.h,4);pCtx.fill();
  pCtx.fillStyle='#fff';pCtx.shadowColor='#fff';pCtx.shadowBlur=16;pCtx.beginPath();pCtx.arc(pBall.x,pBall.y,pBall.r,0,Math.PI*2);pCtx.fill();pCtx.shadowBlur=0;
}
pCtx.fillStyle='#07080f';pCtx.fillRect(0,0,PW,PH);

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TETRIS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const tCanvas=document.getElementById('tetCanvas'),tCtx=tCanvas.getContext('2d');
const tNextCanvas=document.getElementById('tetNext'),tNextCtx=tNextCanvas.getContext('2d');
const TW=240,TH=480,TCOLS=10,TROWS=20,TS=24;
const TPIECES=[
  {shape:[[1,1,1,1]],color:'#00ffcc'},
  {shape:[[1,1],[1,1]],color:'#ffde00'},
  {shape:[[0,1,0],[1,1,1]],color:'#be52ff'},
  {shape:[[1,0],[1,0],[1,1]],color:'#ff6b35'},
  {shape:[[0,1],[0,1],[1,1]],color:'#00d4ff'},
  {shape:[[0,1,1],[1,1,0]],color:'#00ff87'},
  {shape:[[1,1,0],[0,1,1]],color:'#ff2d78'}
];
let tBoard,tPiece,tNext,tTetScore,tLines,tLevel,tRunning=false,tOver,tDropTimer,tDropInterval;
function startTetris(){
  document.getElementById('tetOverlay').style.display='none';
  tBoard=Array.from({length:TROWS},()=>Array(TCOLS).fill(null));
  tTetScore=0;tLines=0;tLevel=1;tOver=false;tRunning=true;
  document.getElementById('tetScore').textContent=0;document.getElementById('tetLines').textContent=0;document.getElementById('tetLevel').textContent=1;
  tNext=randomTPiece();spawnTPiece();
  clearInterval(tDropTimer);tDropTimer=setInterval(tDrop,getDropInterval());
}
function getDropInterval(){return Math.max(80,600-((tLevel-1)*55));}
function randomTPiece(){const p=TPIECES[Math.floor(Math.random()*TPIECES.length)];return{shape:p.shape.map(r=>[...r]),color:p.color,x:Math.floor(TCOLS/2)-Math.floor(p.shape[0].length/2),y:0};}
function spawnTPiece(){tPiece={...tNext,x:Math.floor(TCOLS/2)-Math.floor(tNext.shape[0].length/2),y:0};tNext=randomTPiece();drawTNext();if(!tValid(tPiece)){tOver=true;tRunning=false;clearInterval(tDropTimer);document.getElementById('tetOverlay').style.display='flex';document.getElementById('tetOverlay').innerHTML=`<h2 style="color:var(--np)">Game Over!</h2><p>Score: <strong style="color:var(--npu)">${tTetScore}</strong> ¬∑ Lines: ${tLines}</p><button class="btn btn-p" onclick="startTetris()">‚ñ∂ Play Again</button>`;}}
function tValid(p){for(let r=0;r<p.shape.length;r++)for(let c=0;c<p.shape[r].length;c++){if(!p.shape[r][c])continue;const nx=p.x+c,ny=p.y+r;if(nx<0||nx>=TCOLS||ny>=TROWS)return false;if(ny>=0&&tBoard[ny][nx])return false;}return true;}
function tDrop(){if(!tRunning)return;const moved={...tPiece,y:tPiece.y+1};if(tValid(moved)){tPiece=moved;}else{lockTPiece();}drawTetris();}
function lockTPiece(){
  tPiece.shape.forEach((row,r)=>row.forEach((v,c)=>{if(v&&tPiece.y+r>=0)tBoard[tPiece.y+r][tPiece.x+c]=tPiece.color;}));
  let cleared=0;for(let r=TROWS-1;r>=0;r--){if(tBoard[r].every(c=>c)){tBoard.splice(r,1);tBoard.unshift(Array(TCOLS).fill(null));cleared++;r++;}}
  if(cleared){tLines+=cleared;const pts=[0,100,300,500,800];tTetScore+=pts[cleared]*tLevel;const newLevel=Math.floor(tLines/10)+1;if(newLevel>tLevel){tLevel=newLevel;clearInterval(tDropTimer);tDropTimer=setInterval(tDrop,getDropInterval());}document.getElementById('tetScore').textContent=tTetScore;document.getElementById('tetLines').textContent=tLines;document.getElementById('tetLevel').textContent=tLevel;}
  spawnTPiece();
}
function tetAction(a){
  if(!tRunning)return;
  if(a==='left'){const m={...tPiece,x:tPiece.x-1};if(tValid(m))tPiece=m;}
  else if(a==='right'){const m={...tPiece,x:tPiece.x+1};if(tValid(m))tPiece=m;}
  else if(a==='down'){const m={...tPiece,y:tPiece.y+1};if(tValid(m)){tPiece=m;tTetScore++;document.getElementById('tetScore').textContent=tTetScore;}else lockTPiece();}
  else if(a==='rotate'){const rot=tPiece.shape[0].map((_,i)=>tPiece.shape.map(r=>r[i]).reverse());const m={...tPiece,shape:rot};if(tValid(m))tPiece=m;else{const ml={...m,x:m.x-1};if(tValid(ml))tPiece=ml;else{const mr={...m,x:m.x+1};if(tValid(mr))tPiece=mr;}}}
  else if(a==='hardDrop'){while(true){const m={...tPiece,y:tPiece.y+1};if(tValid(m)){tPiece=m;tTetScore+=2;}else{lockTPiece();break;}}document.getElementById('tetScore').textContent=tTetScore;}
  drawTetris();
}
document.addEventListener('keydown',e=>{
  if(!document.getElementById('tetris').classList.contains('active'))return;
  if(e.key==='ArrowLeft'){e.preventDefault();tetAction('left');}
  else if(e.key==='ArrowRight'){e.preventDefault();tetAction('right');}
  else if(e.key==='ArrowDown'){e.preventDefault();tetAction('down');}
  else if(e.key==='ArrowUp'){e.preventDefault();tetAction('rotate');}
  else if(e.key===' '){e.preventDefault();tetAction('hardDrop');}
});
let tsx,tsy;
tCanvas.addEventListener('touchstart',e=>{tsx=e.touches[0].clientX;tsy=e.touches[0].clientY;},{passive:true});
tCanvas.addEventListener('touchend',e=>{const dx=e.changedTouches[0].clientX-tsx,dy=e.changedTouches[0].clientY-tsy;if(Math.abs(dx)>Math.abs(dy)){tetAction(dx>0?'right':'left');}else if(dy>0)tetAction('down');else tetAction('rotate');});
function drawTNext(){
  tNextCtx.fillStyle='#0e1018';tNextCtx.fillRect(0,0,100,100);
  const s=tNext.shape,ns=20;
  const ox=Math.floor((100-s[0].length*ns)/2),oy=Math.floor((100-s.length*ns)/2);
  s.forEach((row,r)=>row.forEach((v,c)=>{if(!v)return;tNextCtx.fillStyle=tNext.color;tNextCtx.shadowColor=tNext.color;tNextCtx.shadowBlur=8;tNextCtx.beginPath();tNextCtx.roundRect(ox+c*ns+1,oy+r*ns+1,ns-2,ns-2,3);tNextCtx.fill();}));tNextCtx.shadowBlur=0;
}
function getGhostY(){let gy=tPiece.y;while(tValid({...tPiece,y:gy+1}))gy++;return gy;}
function drawTetris(){
  tCtx.fillStyle='#07080f';tCtx.fillRect(0,0,TW,TH);
  tCtx.strokeStyle='rgba(255,255,255,.03)';tCtx.lineWidth=1;for(let c=0;c<=TCOLS;c++){tCtx.beginPath();tCtx.moveTo(c*TS,0);tCtx.lineTo(c*TS,TH);tCtx.stroke();}for(let r=0;r<=TROWS;r++){tCtx.beginPath();tCtx.moveTo(0,r*TS);tCtx.lineTo(TW,r*TS);tCtx.stroke();}
  tBoard.forEach((row,r)=>row.forEach((v,c)=>{if(!v)return;tCtx.fillStyle=v;tCtx.shadowColor=v;tCtx.shadowBlur=6;tCtx.beginPath();tCtx.roundRect(c*TS+1,r*TS+1,TS-2,TS-2,3);tCtx.fill();tCtx.fillStyle='rgba(255,255,255,.15)';tCtx.shadowBlur=0;tCtx.fillRect(c*TS+2,r*TS+2,TS-4,4);}));
  if(tPiece){const gy=getGhostY();if(gy!==tPiece.y){tPiece.shape.forEach((row,r)=>row.forEach((v,c)=>{if(!v)return;tCtx.fillStyle='rgba(255,255,255,.1)';tCtx.beginPath();tCtx.roundRect(((tPiece.x+c)*TS)+1,(gy+r)*TS+1,TS-2,TS-2,3);tCtx.fill();}));}}
  if(tPiece){tPiece.shape.forEach((row,r)=>row.forEach((v,c)=>{if(!v)return;tCtx.fillStyle=tPiece.color;tCtx.shadowColor=tPiece.color;tCtx.shadowBlur=10;tCtx.beginPath();tCtx.roundRect(((tPiece.x+c)*TS)+1,(tPiece.y+r)*TS+1,TS-2,TS-2,3);tCtx.fill();tCtx.fillStyle='rgba(255,255,255,.2)';tCtx.shadowBlur=0;tCtx.fillRect((tPiece.x+c)*TS+2,(tPiece.y+r)*TS+2,TS-4,4);}));}
  tCtx.shadowBlur=0;
}
tCtx.fillStyle='#07080f';tCtx.fillRect(0,0,TW,TH);

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê WHACK-A-MOLE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let whackScore=0,whackBest=0,whackTimer,whackMoleTimer,whackTimeLeft=30,whackRunning=false;
function initWhack(){
  const grid=document.getElementById('moleGrid');grid.innerHTML='';
  for(let i=0;i<9;i++){const hole=document.createElement('div');hole.className='mole-hole';hole.dataset.i=i;hole.textContent='üï≥Ô∏è';hole.addEventListener('click',()=>whackMole(i));grid.appendChild(hole);}
}
function startWhack(){
  whackScore=0;whackTimeLeft=30;whackRunning=true;
  document.getElementById('whackScore').textContent=0;
  document.getElementById('whackStatus').textContent='Whack those moles!';
  document.querySelectorAll('.mole-hole').forEach(h=>{h.textContent='üï≥Ô∏è';h.classList.remove('has-mole','whacked');h.dataset.mole='';});
  clearInterval(whackTimer);clearInterval(whackMoleTimer);
  whackTimer=setInterval(()=>{
    whackTimeLeft--;document.getElementById('whackTimerBar').style.width=(whackTimeLeft/30*100)+'%';
    if(whackTimeLeft<=0){clearInterval(whackTimer);clearInterval(whackMoleTimer);whackRunning=false;
      if(whackScore>whackBest){whackBest=whackScore;document.getElementById('whackBest').textContent=whackBest;}
      document.getElementById('whackStatus').innerHTML=`‚è∞ Time's up! Score: <strong style="color:var(--no)">${whackScore}</strong>`;
      document.querySelectorAll('.mole-hole').forEach(h=>{h.textContent='üï≥Ô∏è';h.classList.remove('has-mole');});
    }
  },1000);
  whackMoleTimer=setInterval(showMole, 700);
}
function showMole(){
  if(!whackRunning)return;
  const holes=document.querySelectorAll('.mole-hole');
  // Hide all existing moles
  holes.forEach(h=>{if(h.dataset.mole==='1'){h.textContent='üï≥Ô∏è';h.classList.remove('has-mole');h.dataset.mole='';}});
  // Show 1-2 random moles
  const count=Math.random()<0.3?2:1;
  const available=[...holes].filter(h=>!h.dataset.mole).sort(()=>Math.random()-.5).slice(0,count);
  available.forEach(h=>{h.textContent='üêπ';h.classList.add('has-mole');h.dataset.mole='1';
    setTimeout(()=>{if(h.dataset.mole==='1'){h.textContent='üï≥Ô∏è';h.classList.remove('has-mole');h.dataset.mole='';}},900);
  });
}
function whackMole(i){
  if(!whackRunning)return;
  const hole=document.querySelector(`.mole-hole[data-i="${i}"]`);
  if(hole.dataset.mole==='1'){
    hole.dataset.mole='';hole.textContent='üí•';hole.classList.remove('has-mole');hole.classList.add('whacked');
    whackScore++;document.getElementById('whackScore').textContent=whackScore;
    setTimeout(()=>{hole.textContent='üï≥Ô∏è';hole.classList.remove('whacked');},300);
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SUDOKU ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let sudokuGrid,sudokuSolution,sudokuSelected=null,sudokuErrors=0,sudokuDiff='easy',sudokuTimerInt,sudokuElapsed=0;
const SUDOKU_PUZZLES={
  easy:[
    [[5,3,0,0,7,0,0,0,0],[6,0,0,1,9,5,0,0,0],[0,9,8,0,0,0,0,6,0],[8,0,0,0,6,0,0,0,3],[4,0,0,8,0,3,0,0,1],[7,0,0,0,2,0,0,0,6],[0,6,0,0,0,0,2,8,0],[0,0,0,4,1,9,0,0,5],[0,0,0,0,8,0,0,7,9]],
    [[0,2,0,6,0,8,0,0,0],[5,8,0,0,0,9,7,0,0],[0,0,0,0,4,0,0,0,0],[3,7,0,0,0,0,5,0,0],[6,0,0,0,0,0,0,0,4],[0,0,8,0,0,0,0,1,3],[0,0,0,0,2,0,0,0,0],[0,0,9,8,0,0,0,3,6],[0,0,0,3,0,6,0,9,0]]
  ],
  medium:[
    [[0,0,0,2,6,0,7,0,1],[6,8,0,0,7,0,0,9,0],[1,9,0,0,0,4,5,0,0],[8,2,0,1,0,0,0,4,0],[0,0,4,6,0,2,9,0,0],[0,5,0,0,0,3,0,2,8],[0,0,9,3,0,0,0,7,4],[0,4,0,0,5,0,0,3,6],[7,0,3,0,1,8,0,0,0]],
    [[0,0,0,0,0,0,0,1,2],[0,0,0,0,3,5,0,0,0],[0,0,0,6,0,0,0,7,0],[7,0,0,0,0,0,3,0,0],[0,0,0,4,0,0,2,0,0],[0,1,0,0,0,0,0,0,6],[0,0,0,0,8,0,0,0,0],[0,2,0,0,0,0,0,5,0],[0,0,0,0,0,0,1,0,0]]
  ],
  hard:[
    [[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,3,0,8,5],[0,0,1,0,2,0,0,0,0],[0,0,0,5,0,7,0,0,0],[0,0,4,0,0,0,1,0,0],[0,9,0,0,0,0,0,0,0],[5,0,0,0,0,0,0,7,3],[0,0,2,0,1,0,0,0,0],[0,0,0,0,4,0,0,0,9]],
    [[0,0,0,7,0,0,0,0,0],[1,0,0,0,0,0,0,0,0],[0,0,0,4,3,0,2,0,0],[0,0,0,0,0,0,0,0,6],[0,0,0,5,0,9,0,0,0],[0,0,0,0,0,0,4,1,8],[0,0,0,0,8,1,0,0,0],[0,0,2,0,0,0,0,5,0],[0,4,0,0,0,0,3,0,0]]
  ]
};
function setSudokuDiff(d,btn){sudokuDiff=d;document.querySelectorAll('#sudokuEasy,#sudokuMed,#sudokuHard').forEach(b=>b.className='mode-btn');btn.className='mode-btn active';initSudoku();}
function solveSudoku(board){
  const b=board.map(r=>[...r]);
  function isValid(b,r,c,n){for(let i=0;i<9;i++){if(b[r][i]===n||b[i][c]===n)return false;}const br=Math.floor(r/3)*3,bc=Math.floor(c/3)*3;for(let i=0;i<3;i++)for(let j=0;j<3;j++)if(b[br+i][bc+j]===n)return false;return true;}
  function solve(b){for(let r=0;r<9;r++)for(let c=0;c<9;c++){if(b[r][c]===0){for(let n=1;n<=9;n++){if(isValid(b,r,c,n)){b[r][c]=n;if(solve(b))return true;b[r][c]=0;}}return false;}}return true;}
  solve(b);return b;
}
function initSudoku(){
  clearInterval(sudokuTimerInt);sudokuElapsed=0;sudokuErrors=0;sudokuSelected=null;
  document.getElementById('sudokuErrors').textContent=0;document.getElementById('sudokuTime').textContent='0:00';
  document.getElementById('sudokuStatus').textContent='Select a cell, then pick a number.';
  const puzzles=SUDOKU_PUZZLES[sudokuDiff];
  const puzzle=puzzles[Math.floor(Math.random()*puzzles.length)];
  sudokuSolution=solveSudoku(puzzle);
  sudokuGrid=puzzle.map(r=>r.map(v=>({val:v,given:v!==0,user:0})));
  renderSudoku();buildSudokuNumpad();
  sudokuTimerInt=setInterval(()=>{sudokuElapsed++;const m=Math.floor(sudokuElapsed/60),s=sudokuElapsed%60;document.getElementById('sudokuTime').textContent=`${m}:${s.toString().padStart(2,'0')}`;},1000);
}
function renderSudoku(){
  const board=document.getElementById('sudokuBoard');board.innerHTML='';
  for(let r=0;r<9;r++)for(let c=0;c<9;c++){
    const cell=document.createElement('div');cell.className='sudoku-cell';
    const d=sudokuGrid[r][c];
    if(d.given){cell.classList.add('given');cell.textContent=d.val;}
    else if(d.user){cell.textContent=d.user;if(d.user===sudokuSolution[r][c])cell.classList.add('correct');else cell.classList.add('error');}
    if(sudokuSelected&&sudokuSelected[0]===r&&sudokuSelected[1]===c)cell.classList.add('selected');
    else if(sudokuSelected&&(sudokuSelected[0]===r||sudokuSelected[1]===c||
      (Math.floor(sudokuSelected[0]/3)===Math.floor(r/3)&&Math.floor(sudokuSelected[1]/3)===Math.floor(c/3))))cell.classList.add('highlight');
    if(c===2||c===5)cell.classList.add('box-right');
    if(r===2||r===5)cell.classList.add('box-bottom');
    cell.addEventListener('click',()=>{if(!d.given){sudokuSelected=[r,c];renderSudoku();}});
    board.appendChild(cell);
  }
}
function buildSudokuNumpad(){
  const pad=document.getElementById('sudokuNumpad');pad.innerHTML='';
  for(let n=1;n<=9;n++){const btn=document.createElement('button');btn.textContent=n;btn.addEventListener('click',()=>sudokuInput(n));pad.appendChild(btn);}
}
function sudokuInput(n){
  if(!sudokuSelected)return;
  const[r,c]=sudokuSelected;const d=sudokuGrid[r][c];
  if(d.given)return;
  d.user=n;
  if(n!==sudokuSolution[r][c]){sudokuErrors++;document.getElementById('sudokuErrors').textContent=sudokuErrors;}
  renderSudoku();
  if(sudokuGrid.every(row=>row.every(d=>d.given?true:d.user===sudokuSolution[sudokuGrid.indexOf(row)][row.indexOf(d)]))){
    clearInterval(sudokuTimerInt);document.getElementById('sudokuStatus').innerHTML=`üéâ Solved in ${document.getElementById('sudokuTime').textContent}!`;}
}
function sudokuErase(){
  if(!sudokuSelected)return;
  const[r,c]=sudokuSelected;if(!sudokuGrid[r][c].given){sudokuGrid[r][c].user=0;renderSudoku();}
}
document.addEventListener('keydown',e=>{
  if(!document.getElementById('sudoku').classList.contains('active'))return;
  if(e.key>='1'&&e.key<='9')sudokuInput(parseInt(e.key));
  if(e.key==='Backspace'||e.key==='Delete')sudokuErase();
  if(sudokuSelected){
    const[r,c]=sudokuSelected;
    if(e.key==='ArrowUp'&&r>0){sudokuSelected=[r-1,c];renderSudoku();}
    if(e.key==='ArrowDown'&&r<8){sudokuSelected=[r+1,c];renderSudoku();}
    if(e.key==='ArrowLeft'&&c>0){sudokuSelected=[r,c-1];renderSudoku();}
    if(e.key==='ArrowRight'&&c<8){sudokuSelected=[r,c+1];renderSudoku();}
  }
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SPACE INVADERS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const invCanvas=document.getElementById('invCanvas'),invCtx=invCanvas.getContext('2d');
const IW=500,IH=500;
let invShip,invAliens,invBullets,invABullets,invScore=0,invLives=3,invWave=1,invRunning=false,invAF,invFrame2=0,invKeys={};
const ALIEN_ROWS=4,ALIEN_COLS=10,ALIEN_W=36,ALIEN_H=28,ALIEN_PAD=8;
const ALIEN_EMOJIS=['üëæ','üëΩ','üõ∏','ü§ñ'];
function startInvaders(){
  document.getElementById('invOverlay').style.display='none';
  invScore=0;invLives=3;invWave=1;invFrame2=0;
  document.getElementById('invScore').textContent=0;
  document.getElementById('invLives').textContent=3;
  document.getElementById('invWave').textContent=1;
  spawnWave();
  invRunning=true;cancelAnimationFrame(invAF);invLoop();
}
function spawnWave(){
  invShip={x:IW/2-20,y:IH-50,w:40,h:20,speed:5};
  invAliens=[];invBullets=[];invABullets=[];
  for(let r=0;r<ALIEN_ROWS;r++)for(let c=0;c<ALIEN_COLS;c++){
    invAliens.push({x:c*(ALIEN_W+ALIEN_PAD)+30,y:r*(ALIEN_H+ALIEN_PAD)+40,w:ALIEN_W,h:ALIEN_H,alive:true,row:r,col:c,emoji:ALIEN_EMOJIS[r%4]});
  }
}
document.addEventListener('keydown',e=>{invKeys[e.key]=true;if(['ArrowLeft','ArrowRight',' '].includes(e.key)&&document.getElementById('invaders').classList.contains('active'))e.preventDefault();});
document.addEventListener('keyup',e=>{invKeys[e.key]=false;});
let invShootCooldown=0;
function invShoot(){if(!invRunning)return;if(invShootCooldown>0)return;invBullets.push({x:invShip.x+invShip.w/2-2,y:invShip.y,w:4,h:12});invShootCooldown=18;}
document.addEventListener('keydown',e=>{if(e.code==='Space'&&document.getElementById('invaders').classList.contains('active')){e.preventDefault();invShoot();}});
let invMoveDir=1,invMoveTimer=0,invMoveInterval=50;
function invLoop(){if(!invRunning)return;invUpdate();invDraw();invAF=requestAnimationFrame(invLoop);}
function invUpdate(){
  invFrame2++;if(invShootCooldown>0)invShootCooldown--;
  // Ship movement
  if(invKeys['ArrowLeft'])invShip.x=Math.max(0,invShip.x-invShip.speed);
  if(invKeys['ArrowRight'])invShip.x=Math.min(IW-invShip.w,invShip.x+invShip.speed);
  if(invKeys[' '])invShoot();
  // Move aliens
  invMoveTimer++;
  const aliveAliens=invAliens.filter(a=>a.alive);
  if(invMoveTimer>=Math.max(8,invMoveInterval-invWave*5)){
    invMoveTimer=0;
    let hitWall=false;
    for(const a of aliveAliens){a.x+=invMoveDir*14;if(a.x<=0||a.x+a.w>=IW)hitWall=true;}
    if(hitWall){invMoveDir*=-1;aliveAliens.forEach(a=>{a.y+=18;});}
  }
  // Alien shooting
  if(invFrame2%55===0&&aliveAliens.length){
    const shooter=aliveAliens[Math.floor(Math.random()*aliveAliens.length)];
    invABullets.push({x:shooter.x+shooter.w/2,y:shooter.y+shooter.h,w:4,h:10,speed:2.5+invWave*0.3});
  }
  // Player bullets
  invBullets=invBullets.filter(b=>{b.y-=9;return b.y>-20;});
  invBullets.forEach(b=>{
    for(const a of invAliens){if(!a.alive)continue;if(b.x<a.x+a.w&&b.x+b.w>a.x&&b.y<a.y+a.h&&b.y+b.h>a.y){a.alive=false;invScore+=10*(ALIEN_ROWS-a.row);document.getElementById('invScore').textContent=invScore;b.y=-999;break;}}
  });
  // Alien bullets
  invABullets=invABullets.filter(b=>{b.y+=b.speed;return b.y<IH+20;});
  invABullets.forEach(b=>{
    if(b.x<invShip.x+invShip.w&&b.x+b.w>invShip.x&&b.y<invShip.y+invShip.h&&b.y+b.h>invShip.y){
      invLives--;document.getElementById('invLives').textContent=invLives;b.y=IH+100;
      if(invLives<=0){invRunning=false;cancelAnimationFrame(invAF);showInvOver('üíÄ Game Over!');return;}
    }
  });
  // Check win
  if(!invAliens.some(a=>a.alive)){invWave++;document.getElementById('invWave').textContent=invWave;spawnWave();}
  // Aliens reach bottom
  if(invAliens.some(a=>a.alive&&a.y+a.h>=invShip.y-10)){invRunning=false;cancelAnimationFrame(invAF);showInvOver('üëæ Invaded!');}
}
function showInvOver(msg){
  const ov=document.getElementById('invOverlay');ov.style.display='flex';
  ov.innerHTML=`<h2 style="color:var(--np)">${msg}</h2><p>Score: <strong style="color:var(--ny)">${invScore}</strong> ¬∑ Wave: ${invWave}</p><button class="btn btn-r" onclick="startInvaders()">‚ñ∂ Play Again</button>`;
}
function invDraw(){
  invCtx.fillStyle='#020408';invCtx.fillRect(0,0,IW,IH);
  // Stars
  invCtx.fillStyle='rgba(255,255,255,.5)';
  for(let i=0;i<50;i++){invCtx.beginPath();invCtx.arc((i*97+invFrame2*0.2)%IW,(i*61)%IH,i%3===0?1.2:.7,0,Math.PI*2);invCtx.fill();}
  // Aliens
  invCtx.font='22px serif';invCtx.textAlign='center';
  invAliens.forEach(a=>{if(!a.alive)return;invCtx.shadowColor=a.row%2===0?'#ff2d78':'#00d4ff';invCtx.shadowBlur=8;invCtx.fillText(a.emoji,a.x+a.w/2,a.y+a.h*0.8);});
  invCtx.shadowBlur=0;
  // Ship
  invCtx.fillStyle='#00d4ff';invCtx.shadowColor='#00d4ff';invCtx.shadowBlur=14;
  invCtx.beginPath();invCtx.moveTo(invShip.x+invShip.w/2,invShip.y);invCtx.lineTo(invShip.x,invShip.y+invShip.h);invCtx.lineTo(invShip.x+invShip.w,invShip.y+invShip.h);invCtx.closePath();invCtx.fill();invCtx.shadowBlur=0;
  // Player bullets
  invBullets.forEach(b=>{invCtx.fillStyle='#ffde00';invCtx.shadowColor='#ffde00';invCtx.shadowBlur=8;invCtx.fillRect(b.x,b.y,b.w,b.h);});invCtx.shadowBlur=0;
  // Alien bullets
  invABullets.forEach(b=>{invCtx.fillStyle='#ff2d78';invCtx.shadowColor='#ff2d78';invCtx.shadowBlur=8;invCtx.fillRect(b.x,b.y,b.w,b.h);});invCtx.shadowBlur=0;
  // Ground line
  invCtx.strokeStyle='rgba(0,212,255,.3)';invCtx.lineWidth=1;invCtx.beginPath();invCtx.moveTo(0,IH-20);invCtx.lineTo(IW,IH-20);invCtx.stroke();
}
invCtx.fillStyle='#020408';invCtx.fillRect(0,0,IW,IH);

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê INIT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
initTTT();initMemory();initMine();initC4();init2048();initWhack();initSudoku();
</script>
</body>
</html>